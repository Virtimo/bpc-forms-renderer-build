function cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xr={exports:{}},ln={},Se={},St={},Ot={},F={},Pt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((T,O)=>`${T}${O}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((T,O)=>(O instanceof r&&(T[O.str]=(T[O.str]||0)+1),T),{})}}e._Code=n,e.nil=new n("");function a(h,...p){const T=[h[0]];let O=0;for(;O<p.length;)c(T,p[O]),T.push(h[++O]);return new n(T)}e._=a;const o=new n("+");function i(h,...p){const T=[E(h[0])];let O=0;for(;O<p.length;)T.push(o),c(T,p[O]),T.push(o,E(h[++O]));return d(T),new n(T)}e.str=i;function c(h,p){p instanceof n?h.push(...p._items):p instanceof r?h.push(p):h.push($(p))}e.addCodeArg=c;function d(h){let p=1;for(;p<h.length-1;){if(h[p]===o){const T=u(h[p-1],h[p+1]);if(T!==void 0){h.splice(p-1,3,T);continue}h[p++]="+"}p++}}function u(h,p){if(p==='""')return h;if(h==='""')return p;if(typeof h=="string")return p instanceof r||h[h.length-1]!=='"'?void 0:typeof p!="string"?`${h.slice(0,-1)}${p}"`:p[0]==='"'?h.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(h instanceof r))return`"${h}${p.slice(1)}`}function m(h,p){return p.emptyStr()?h:h.emptyStr()?p:i`${h}${p}`}e.strConcat=m;function $(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:E(Array.isArray(h)?h.join(","):h)}function P(h){return new n(E(h))}e.stringify=P;function E(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=E;function b(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):a`[${h}]`}e.getProperty=b;function S(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=S;function _(h){return new n(h.toString())}e.regexpCode=_})(Pt);var Br={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Pt;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:m}={}){this._names={},this._prefixes=u,this._parent=m}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const m=this._names[u]||this._nameGroup(u);return`${u}${m.index++}`}_nameGroup(u){var m,$;if(!(($=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||$===void 0)&&$.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class o extends t.Name{constructor(u,m){super(m),this.prefix=u}setValue(u,{property:m,itemIndex:$}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(m)}[${$}]`}}e.ValueScopeName=o;const i=(0,t._)`\n`;class c extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?i:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,m){var $;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(u),{prefix:E}=P,b=($=m.key)!==null&&$!==void 0?$:m.ref;let S=this._values[E];if(S){const p=S.get(b);if(p)return p}else S=this._values[E]=new Map;S.set(b,P);const _=this._scope[E]||(this._scope[E]=[]),h=_.length;return _[h]=m.ref,P.setValue(m,{property:E,itemIndex:h}),P}getValue(u,m){const $=this._values[u];if($)return $.get(m)}scopeRefs(u,m=this._values){return this._reduceValues(m,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${u}${$.scopePath}`})}scopeCode(u=this._values,m,$){return this._reduceValues(u,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},m,$)}_reduceValues(u,m,$={},P){let E=t.nil;for(const b in u){const S=u[b];if(!S)continue;const _=$[b]=$[b]||new Map;S.forEach(h=>{if(_.has(h))return;_.set(h,n.Started);let p=m(h);if(p){const T=this.opts.es5?e.varKinds.var:e.varKinds.const;E=(0,t._)`${E}${T} ${h} = ${p};${this.opts._n}`}else if(p=P==null?void 0:P(h))E=(0,t._)`${E}${p}${this.opts._n}`;else throw new r(h);_.set(h,n.Completed)})}return E}}e.ValueScope=c})(Br);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Pt,r=Br;var n=Pt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Br;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(s,l){return this}}class i extends o{constructor(s,l,w){super(),this.varKind=s,this.name=l,this.rhs=w}render({es5:s,_n:l}){const w=s?r.varKinds.var:this.varKind,k=this.rhs===void 0?"":` = ${this.rhs}`;return`${w} ${this.name}${k};`+l}optimizeNames(s,l){if(s[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,s,l)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends o{constructor(s,l,w){super(),this.lhs=s,this.rhs=l,this.sideEffects=w}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,l){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,s,l),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Y(s,this.rhs)}}class d extends c{constructor(s,l,w,k){super(s,w,k),this.op=l}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class u extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class m extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class $ extends o{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class P extends o{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,l){return this.code=H(this.code,s,l),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class E extends o{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((l,w)=>l+w.render(s),"")}optimizeNodes(){const{nodes:s}=this;let l=s.length;for(;l--;){const w=s[l].optimizeNodes();Array.isArray(w)?s.splice(l,1,...w):w?s[l]=w:s.splice(l,1)}return s.length>0?this:void 0}optimizeNames(s,l){const{nodes:w}=this;let k=w.length;for(;k--;){const N=w[k];N.optimizeNames(s,l)||(re(s,N.names),w.splice(k,1))}return w.length>0?this:void 0}get names(){return this.nodes.reduce((s,l)=>V(s,l.names),{})}}class b extends E{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class S extends E{}class _ extends b{}_.kind="else";class h extends b{constructor(s,l){super(l),this.condition=s}render(s){let l=`if(${this.condition})`+super.render(s);return this.else&&(l+="else "+this.else.render(s)),l}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let l=this.else;if(l){const w=l.optimizeNodes();l=this.else=Array.isArray(w)?new _(w):w}if(l)return s===!1?l instanceof h?l:l.nodes:this.nodes.length?this:new h($e(s),l instanceof h?[l]:l.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,l){var w;if(this.else=(w=this.else)===null||w===void 0?void 0:w.optimizeNames(s,l),!!(super.optimizeNames(s,l)||this.else))return this.condition=H(this.condition,s,l),this}get names(){const s=super.names;return Y(s,this.condition),this.else&&V(s,this.else.names),s}}h.kind="if";class p extends b{}p.kind="for";class T extends p{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,l){if(super.optimizeNames(s,l))return this.iteration=H(this.iteration,s,l),this}get names(){return V(super.names,this.iteration.names)}}class O extends p{constructor(s,l,w,k){super(),this.varKind=s,this.name=l,this.from=w,this.to=k}render(s){const l=s.es5?r.varKinds.var:this.varKind,{name:w,from:k,to:N}=this;return`for(${l} ${w}=${k}; ${w}<${N}; ${w}++)`+super.render(s)}get names(){const s=Y(super.names,this.from);return Y(s,this.to)}}class j extends p{constructor(s,l,w,k){super(),this.loop=s,this.varKind=l,this.name=w,this.iterable=k}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,l){if(super.optimizeNames(s,l))return this.iterable=H(this.iterable,s,l),this}get names(){return V(super.names,this.iterable.names)}}class G extends b{constructor(s,l,w){super(),this.name=s,this.args=l,this.async=w}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}G.kind="func";class B extends E{render(s){return"return "+super.render(s)}}B.kind="return";class te extends b{render(s){let l="try"+super.render(s);return this.catch&&(l+=this.catch.render(s)),this.finally&&(l+=this.finally.render(s)),l}optimizeNodes(){var s,l;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(l=this.finally)===null||l===void 0||l.optimizeNodes(),this}optimizeNames(s,l){var w,k;return super.optimizeNames(s,l),(w=this.catch)===null||w===void 0||w.optimizeNames(s,l),(k=this.finally)===null||k===void 0||k.optimizeNames(s,l),this}get names(){const s=super.names;return this.catch&&V(s,this.catch.names),this.finally&&V(s,this.finally.names),s}}class ye extends b{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}ye.kind="catch";class be extends b{render(s){return"finally"+super.render(s)}}be.kind="finally";class C{constructor(s,l={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...l,_n:l.lines?`
`:""},this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,l){const w=this._extScope.value(s,l);return(this._values[w.prefix]||(this._values[w.prefix]=new Set)).add(w),w}getScopeValue(s,l){return this._extScope.getValue(s,l)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,l,w,k){const N=this._scope.toName(l);return w!==void 0&&k&&(this._constants[N.str]=w),this._leafNode(new i(s,N,w)),N}const(s,l,w){return this._def(r.varKinds.const,s,l,w)}let(s,l,w){return this._def(r.varKinds.let,s,l,w)}var(s,l,w){return this._def(r.varKinds.var,s,l,w)}assign(s,l,w){return this._leafNode(new c(s,l,w))}add(s,l){return this._leafNode(new d(s,e.operators.ADD,l))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new P(s)),this}object(...s){const l=["{"];for(const[w,k]of s)l.length>1&&l.push(","),l.push(w),(w!==k||this.opts.es5)&&(l.push(":"),(0,t.addCodeArg)(l,k));return l.push("}"),new t._Code(l)}if(s,l,w){if(this._blockNode(new h(s)),l&&w)this.code(l).else().code(w).endIf();else if(l)this.code(l).endIf();else if(w)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new h(s))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(h,_)}_for(s,l){return this._blockNode(s),l&&this.code(l).endFor(),this}for(s,l){return this._for(new T(s),l)}forRange(s,l,w,k,N=this.opts.es5?r.varKinds.var:r.varKinds.let){const M=this._scope.toName(s);return this._for(new O(N,M,l,w),()=>k(M))}forOf(s,l,w,k=r.varKinds.const){const N=this._scope.toName(s);if(this.opts.es5){const M=l instanceof t.Name?l:this.var("_arr",l);return this.forRange("_i",0,(0,t._)`${M}.length`,q=>{this.var(N,(0,t._)`${M}[${q}]`),w(N)})}return this._for(new j("of",k,N,l),()=>w(N))}forIn(s,l,w,k=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${l})`,w);const N=this._scope.toName(s);return this._for(new j("in",k,N,l),()=>w(N))}endFor(){return this._endBlockNode(p)}label(s){return this._leafNode(new u(s))}break(s){return this._leafNode(new m(s))}return(s){const l=new B;if(this._blockNode(l),this.code(s),l.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(B)}try(s,l,w){if(!l&&!w)throw new Error('CodeGen: "try" without "catch" and "finally"');const k=new te;if(this._blockNode(k),this.code(s),l){const N=this.name("e");this._currNode=k.catch=new ye(N),l(N)}return w&&(this._currNode=k.finally=new be,this.code(w)),this._endBlockNode(ye,be)}throw(s){return this._leafNode(new $(s))}block(s,l){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(l),this}endBlock(s){const l=this._blockStarts.pop();if(l===void 0)throw new Error("CodeGen: not in self-balancing block");const w=this._nodes.length-l;if(w<0||s!==void 0&&w!==s)throw new Error(`CodeGen: wrong number of nodes: ${w} vs ${s} expected`);return this._nodes.length=l,this}func(s,l=t.nil,w,k){return this._blockNode(new G(s,l,w)),k&&this.code(k).endFunc(),this}endFunc(){return this._endBlockNode(G)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,l){const w=this._currNode;if(w instanceof s||l&&w instanceof l)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${l?`${s.kind}/${l.kind}`:s.kind}"`)}_elseNode(s){const l=this._currNode;if(!(l instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=l.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const l=this._nodes;l[l.length-1]=s}}e.CodeGen=C;function V(f,s){for(const l in s)f[l]=(f[l]||0)+(s[l]||0);return f}function Y(f,s){return s instanceof t._CodeOrName?V(f,s.names):f}function H(f,s,l){if(f instanceof t.Name)return w(f);if(!k(f))return f;return new t._Code(f._items.reduce((N,M)=>(M instanceof t.Name&&(M=w(M)),M instanceof t._Code?N.push(...M._items):N.push(M),N),[]));function w(N){const M=l[N.str];return M===void 0||s[N.str]!==1?N:(delete s[N.str],M)}function k(N){return N instanceof t._Code&&N._items.some(M=>M instanceof t.Name&&s[M.str]===1&&l[M.str]!==void 0)}}function re(f,s){for(const l in s)f[l]=(f[l]||0)-(s[l]||0)}function $e(f){return typeof f=="boolean"||typeof f=="number"||f===null?!f:(0,t._)`!${v(f)}`}e.not=$e;const we=g(e.operators.AND);function Me(...f){return f.reduce(we)}e.and=Me;const Ee=g(e.operators.OR);function R(...f){return f.reduce(Ee)}e.or=R;function g(f){return(s,l)=>s===t.nil?l:l===t.nil?s:(0,t._)`${v(s)} ${f} ${v(l)}`}function v(f){return f instanceof t.Name?f:(0,t._)`(${f})`}})(F);var I={};Object.defineProperty(I,"__esModule",{value:!0});I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;const Z=F,As=Pt;function Rs(e){const t={};for(const r of e)t[r]=!0;return t}I.toHash=Rs;function ks(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(uo(e,t),!fo(t,e.self.RULES.all))}I.alwaysValidSchema=ks;function uo(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const o in t)a[o]||ho(e,`unknown keyword: "${o}"`)}I.checkUnknownRules=uo;function fo(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}I.schemaHasRules=fo;function Is(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}I.schemaHasRulesButRef=Is;function js({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Z._)`${r}`}return(0,Z._)`${e}${t}${(0,Z.getProperty)(n)}`}I.schemaRefOrVal=js;function Cs(e){return mo(decodeURIComponent(e))}I.unescapeFragment=Cs;function Ms(e){return encodeURIComponent(un(e))}I.escapeFragment=Ms;function un(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}I.escapeJsonPointer=un;function mo(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}I.unescapeJsonPointer=mo;function Ds(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}I.eachItem=Ds;function Sa({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,o,i,c)=>{const d=i===void 0?o:i instanceof Z.Name?(o instanceof Z.Name?e(a,o,i):t(a,o,i),i):o instanceof Z.Name?(t(a,i,o),o):r(o,i);return c===Z.Name&&!(d instanceof Z.Name)?n(a,d):d}}I.mergeEvaluated={props:Sa({mergeNames:(e,t,r)=>e.if((0,Z._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Z._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Z._)`${r} || {}`).code((0,Z._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Z._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Z._)`${r} || {}`),dn(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:po}),items:Sa({mergeNames:(e,t,r)=>e.if((0,Z._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Z._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Z._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Z._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function po(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Z._)`{}`);return t!==void 0&&dn(e,r,t),r}I.evaluatedPropsToName=po;function dn(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Z._)`${t}${(0,Z.getProperty)(n)}`,!0))}I.setEvaluated=dn;const Pa={};function Ls(e,t){return e.scopeValue("func",{ref:t,code:Pa[t.code]||(Pa[t.code]=new As._Code(t.code))})}I.useFunc=Ls;var Yr;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Yr||(I.Type=Yr={}));function zs(e,t,r){if(e instanceof Z.Name){const n=t===Yr.Num;return r?n?(0,Z._)`"[" + ${e} + "]"`:(0,Z._)`"['" + ${e} + "']"`:n?(0,Z._)`"/" + ${e}`:(0,Z._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Z.getProperty)(e).toString():"/"+un(e)}I.getErrorPath=zs;function ho(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}I.checkStrictMode=ho;var ve={};Object.defineProperty(ve,"__esModule",{value:!0});const ue=F,Us={data:new ue.Name("data"),valCxt:new ue.Name("valCxt"),instancePath:new ue.Name("instancePath"),parentData:new ue.Name("parentData"),parentDataProperty:new ue.Name("parentDataProperty"),rootData:new ue.Name("rootData"),dynamicAnchors:new ue.Name("dynamicAnchors"),vErrors:new ue.Name("vErrors"),errors:new ue.Name("errors"),this:new ue.Name("this"),self:new ue.Name("self"),scope:new ue.Name("scope"),json:new ue.Name("json"),jsonPos:new ue.Name("jsonPos"),jsonLen:new ue.Name("jsonLen"),jsonPart:new ue.Name("jsonPart")};ve.default=Us;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=F,r=I,n=ve;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:h})=>h?(0,t.str)`"${_}" keyword must be ${h} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function a(_,h=e.keywordError,p,T){const{it:O}=_,{gen:j,compositeRule:G,allErrors:B}=O,te=$(_,h,p);T??(G||B)?d(j,te):u(O,(0,t._)`[${te}]`)}e.reportError=a;function o(_,h=e.keywordError,p){const{it:T}=_,{gen:O,compositeRule:j,allErrors:G}=T,B=$(_,h,p);d(O,B),j||G||u(T,n.default.vErrors)}e.reportExtraError=o;function i(_,h){_.assign(n.default.errors,h),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(h,()=>_.assign((0,t._)`${n.default.vErrors}.length`,h),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function c({gen:_,keyword:h,schemaValue:p,data:T,errsCount:O,it:j}){if(O===void 0)throw new Error("ajv implementation error");const G=_.name("err");_.forRange("i",O,n.default.errors,B=>{_.const(G,(0,t._)`${n.default.vErrors}[${B}]`),_.if((0,t._)`${G}.instancePath === undefined`,()=>_.assign((0,t._)`${G}.instancePath`,(0,t.strConcat)(n.default.instancePath,j.errorPath))),_.assign((0,t._)`${G}.schemaPath`,(0,t.str)`${j.errSchemaPath}/${h}`),j.opts.verbose&&(_.assign((0,t._)`${G}.schema`,p),_.assign((0,t._)`${G}.data`,T))})}e.extendErrors=c;function d(_,h){const p=_.const("err",h);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),_.code((0,t._)`${n.default.errors}++`)}function u(_,h){const{gen:p,validateName:T,schemaEnv:O}=_;O.$async?p.throw((0,t._)`new ${_.ValidationError}(${h})`):(p.assign((0,t._)`${T}.errors`,h),p.return(!1))}const m={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(_,h,p){const{createErrors:T}=_.it;return T===!1?(0,t._)`{}`:P(_,h,p)}function P(_,h,p={}){const{gen:T,it:O}=_,j=[E(O,p),b(_,p)];return S(_,h,j),T.object(...j)}function E({errorPath:_},{instancePath:h}){const p=h?(0,t.str)`${_}${(0,r.getErrorPath)(h,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function b({keyword:_,it:{errSchemaPath:h}},{schemaPath:p,parentSchema:T}){let O=T?h:(0,t.str)`${h}/${_}`;return p&&(O=(0,t.str)`${O}${(0,r.getErrorPath)(p,r.Type.Str)}`),[m.schemaPath,O]}function S(_,{params:h,message:p},T){const{keyword:O,data:j,schemaValue:G,it:B}=_,{opts:te,propertyName:ye,topSchemaRef:be,schemaPath:C}=B;T.push([m.keyword,O],[m.params,typeof h=="function"?h(_):h||(0,t._)`{}`]),te.messages&&T.push([m.message,typeof p=="function"?p(_):p]),te.verbose&&T.push([m.schema,G],[m.parentSchema,(0,t._)`${be}${C}`],[n.default.data,j]),ye&&T.push([m.propertyName,ye])}})(Ot);Object.defineProperty(St,"__esModule",{value:!0});St.boolOrEmptySchema=St.topBoolOrEmptySchema=void 0;const Fs=Ot,Vs=F,qs=ve,Hs={message:"boolean schema is false"};function Ks(e){const{gen:t,schema:r,validateName:n}=e;r===!1?yo(e,!1):typeof r=="object"&&r.$async===!0?t.return(qs.default.data):(t.assign((0,Vs._)`${n}.errors`,null),t.return(!0))}St.topBoolOrEmptySchema=Ks;function Gs(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),yo(e)):r.var(t,!0)}St.boolOrEmptySchema=Gs;function yo(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Fs.reportError)(a,Hs,void 0,t)}var ae={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.getRules=ft.isJSONType=void 0;const Ws=["string","number","integer","boolean","null","object","array"],xs=new Set(Ws);function Bs(e){return typeof e=="string"&&xs.has(e)}ft.isJSONType=Bs;function Ys(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ft.getRules=Ys;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.shouldUseRule=We.shouldUseGroup=We.schemaHasRulesForType=void 0;function Js({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&$o(e,n)}We.schemaHasRulesForType=Js;function $o(e,t){return t.rules.some(r=>go(e,r))}We.shouldUseGroup=$o;function go(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}We.shouldUseRule=go;Object.defineProperty(ae,"__esModule",{value:!0});ae.reportTypeError=ae.checkDataTypes=ae.checkDataType=ae.coerceAndCheckDataType=ae.getJSONTypes=ae.getSchemaTypes=ae.DataType=void 0;const Xs=ft,Zs=We,Qs=Ot,K=F,_o=I;var wt;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(wt||(ae.DataType=wt={}));function ei(e){const t=vo(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ae.getSchemaTypes=ei;function vo(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Xs.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ae.getJSONTypes=vo;function ti(e,t){const{gen:r,data:n,opts:a}=e,o=ri(t,a.coerceTypes),i=t.length>0&&!(o.length===0&&t.length===1&&(0,Zs.schemaHasRulesForType)(e,t[0]));if(i){const c=fn(t,n,a.strictNumbers,wt.Wrong);r.if(c,()=>{o.length?ni(e,t,o):mn(e)})}return i}ae.coerceAndCheckDataType=ti;const bo=new Set(["string","number","integer","boolean","null"]);function ri(e,t){return t?e.filter(r=>bo.has(r)||t==="array"&&r==="array"):[]}function ni(e,t,r){const{gen:n,data:a,opts:o}=e,i=n.let("dataType",(0,K._)`typeof ${a}`),c=n.let("coerced",(0,K._)`undefined`);o.coerceTypes==="array"&&n.if((0,K._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,K._)`${a}[0]`).assign(i,(0,K._)`typeof ${a}`).if(fn(t,a,o.strictNumbers),()=>n.assign(c,a))),n.if((0,K._)`${c} !== undefined`);for(const u of r)(bo.has(u)||u==="array"&&o.coerceTypes==="array")&&d(u);n.else(),mn(e),n.endIf(),n.if((0,K._)`${c} !== undefined`,()=>{n.assign(a,c),ai(e,c)});function d(u){switch(u){case"string":n.elseIf((0,K._)`${i} == "number" || ${i} == "boolean"`).assign(c,(0,K._)`"" + ${a}`).elseIf((0,K._)`${a} === null`).assign(c,(0,K._)`""`);return;case"number":n.elseIf((0,K._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(c,(0,K._)`+${a}`);return;case"integer":n.elseIf((0,K._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(c,(0,K._)`+${a}`);return;case"boolean":n.elseIf((0,K._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(c,!1).elseIf((0,K._)`${a} === "true" || ${a} === 1`).assign(c,!0);return;case"null":n.elseIf((0,K._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(c,null);return;case"array":n.elseIf((0,K._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(c,(0,K._)`[${a}]`)}}}function ai({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,K._)`${t} !== undefined`,()=>e.assign((0,K._)`${t}[${r}]`,n))}function Jr(e,t,r,n=wt.Correct){const a=n===wt.Correct?K.operators.EQ:K.operators.NEQ;let o;switch(e){case"null":return(0,K._)`${t} ${a} null`;case"array":o=(0,K._)`Array.isArray(${t})`;break;case"object":o=(0,K._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=i((0,K._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=i();break;default:return(0,K._)`typeof ${t} ${a} ${e}`}return n===wt.Correct?o:(0,K.not)(o);function i(c=K.nil){return(0,K.and)((0,K._)`typeof ${t} == "number"`,c,r?(0,K._)`isFinite(${t})`:K.nil)}}ae.checkDataType=Jr;function fn(e,t,r,n){if(e.length===1)return Jr(e[0],t,r,n);let a;const o=(0,_o.toHash)(e);if(o.array&&o.object){const i=(0,K._)`typeof ${t} != "object"`;a=o.null?i:(0,K._)`!${t} || ${i}`,delete o.null,delete o.array,delete o.object}else a=K.nil;o.number&&delete o.integer;for(const i in o)a=(0,K.and)(a,Jr(i,t,r,n));return a}ae.checkDataTypes=fn;const oi={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,K._)`{type: ${e}}`:(0,K._)`{type: ${t}}`};function mn(e){const t=si(e);(0,Qs.reportError)(t,oi)}ae.reportTypeError=mn;function si(e){const{gen:t,data:r,schema:n}=e,a=(0,_o.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.assignDefaults=void 0;const _t=F,ii=I;function ci(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)Ta(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,o)=>Ta(e,o,a.default))}Sr.assignDefaults=ci;function Ta(e,t,r){const{gen:n,compositeRule:a,data:o,opts:i}=e;if(r===void 0)return;const c=(0,_t._)`${o}${(0,_t.getProperty)(t)}`;if(a){(0,ii.checkStrictMode)(e,`default is ignored for: ${c}`);return}let d=(0,_t._)`${c} === undefined`;i.useDefaults==="empty"&&(d=(0,_t._)`${d} || ${c} === null || ${c} === ""`),n.if(d,(0,_t._)`${c} = ${(0,_t.stringify)(r)}`)}var Ve={},W={};Object.defineProperty(W,"__esModule",{value:!0});W.validateUnion=W.validateArray=W.usePattern=W.callValidateCode=W.schemaProperties=W.allSchemaProperties=W.noPropertyInData=W.propertyInData=W.isOwnProperty=W.hasPropFunc=W.reportMissingProp=W.checkMissingProp=W.checkReportMissingProp=void 0;const Q=F,pn=I,Ze=ve,li=I;function ui(e,t){const{gen:r,data:n,it:a}=e;r.if(yn(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Q._)`${t}`},!0),e.error()})}W.checkReportMissingProp=ui;function di({gen:e,data:t,it:{opts:r}},n,a){return(0,Q.or)(...n.map(o=>(0,Q.and)(yn(e,t,o,r.ownProperties),(0,Q._)`${a} = ${o}`)))}W.checkMissingProp=di;function fi(e,t){e.setParams({missingProperty:t},!0),e.error()}W.reportMissingProp=fi;function wo(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Q._)`Object.prototype.hasOwnProperty`})}W.hasPropFunc=wo;function hn(e,t,r){return(0,Q._)`${wo(e)}.call(${t}, ${r})`}W.isOwnProperty=hn;function mi(e,t,r,n){const a=(0,Q._)`${t}${(0,Q.getProperty)(r)} !== undefined`;return n?(0,Q._)`${a} && ${hn(e,t,r)}`:a}W.propertyInData=mi;function yn(e,t,r,n){const a=(0,Q._)`${t}${(0,Q.getProperty)(r)} === undefined`;return n?(0,Q.or)(a,(0,Q.not)(hn(e,t,r))):a}W.noPropertyInData=yn;function Eo(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}W.allSchemaProperties=Eo;function pi(e,t){return Eo(t).filter(r=>!(0,pn.alwaysValidSchema)(e,t[r]))}W.schemaProperties=pi;function hi({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:o},it:i},c,d,u){const m=u?(0,Q._)`${e}, ${t}, ${n}${a}`:t,$=[[Ze.default.instancePath,(0,Q.strConcat)(Ze.default.instancePath,o)],[Ze.default.parentData,i.parentData],[Ze.default.parentDataProperty,i.parentDataProperty],[Ze.default.rootData,Ze.default.rootData]];i.opts.dynamicRef&&$.push([Ze.default.dynamicAnchors,Ze.default.dynamicAnchors]);const P=(0,Q._)`${m}, ${r.object(...$)}`;return d!==Q.nil?(0,Q._)`${c}.call(${d}, ${P})`:(0,Q._)`${c}(${P})`}W.callValidateCode=hi;const yi=(0,Q._)`new RegExp`;function $i({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,o=a(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Q._)`${a.code==="new RegExp"?yi:(0,li.useFunc)(e,a)}(${r}, ${n})`})}W.usePattern=$i;function gi(e){const{gen:t,data:r,keyword:n,it:a}=e,o=t.name("valid");if(a.allErrors){const c=t.let("valid",!0);return i(()=>t.assign(c,!1)),c}return t.var(o,!0),i(()=>t.break()),o;function i(c){const d=t.const("len",(0,Q._)`${r}.length`);t.forRange("i",0,d,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:pn.Type.Num},o),t.if((0,Q.not)(o),c)})}}W.validateArray=gi;function _i(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,pn.alwaysValidSchema)(a,d))&&!a.opts.unevaluated)return;const i=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((d,u)=>{const m=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},c);t.assign(i,(0,Q._)`${i} || ${c}`),e.mergeValidEvaluated(m,c)||t.if((0,Q.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}W.validateUnion=_i;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.validateKeywordUsage=Ve.validSchemaType=Ve.funcKeywordCode=Ve.macroKeywordCode=void 0;const me=F,ct=ve,vi=W,bi=Ot;function wi(e,t){const{gen:r,keyword:n,schema:a,parentSchema:o,it:i}=e,c=t.macro.call(i.self,a,o,i),d=So(r,n,c);i.opts.validateSchema!==!1&&i.self.validateSchema(c,!0);const u=r.name("valid");e.subschema({schema:c,schemaPath:me.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ve.macroKeywordCode=wi;function Ei(e,t){var r;const{gen:n,keyword:a,schema:o,parentSchema:i,$data:c,it:d}=e;Pi(d,t);const u=!c&&t.compile?t.compile.call(d.self,o,i,d):t.validate,m=So(n,a,u),$=n.let("valid");e.block$data($,P),e.ok((r=t.valid)!==null&&r!==void 0?r:$);function P(){if(t.errors===!1)S(),t.modifying&&Oa(e),_(()=>e.error());else{const h=t.async?E():b();t.modifying&&Oa(e),_(()=>Si(e,h))}}function E(){const h=n.let("ruleErrs",null);return n.try(()=>S((0,me._)`await `),p=>n.assign($,!1).if((0,me._)`${p} instanceof ${d.ValidationError}`,()=>n.assign(h,(0,me._)`${p}.errors`),()=>n.throw(p))),h}function b(){const h=(0,me._)`${m}.errors`;return n.assign(h,null),S(me.nil),h}function S(h=t.async?(0,me._)`await `:me.nil){const p=d.opts.passContext?ct.default.this:ct.default.self,T=!("compile"in t&&!c||t.schema===!1);n.assign($,(0,me._)`${h}${(0,vi.callValidateCode)(e,m,p,T)}`,t.modifying)}function _(h){var p;n.if((0,me.not)((p=t.valid)!==null&&p!==void 0?p:$),h)}}Ve.funcKeywordCode=Ei;function Oa(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,me._)`${n.parentData}[${n.parentDataProperty}]`))}function Si(e,t){const{gen:r}=e;r.if((0,me._)`Array.isArray(${t})`,()=>{r.assign(ct.default.vErrors,(0,me._)`${ct.default.vErrors} === null ? ${t} : ${ct.default.vErrors}.concat(${t})`).assign(ct.default.errors,(0,me._)`${ct.default.vErrors}.length`),(0,bi.extendErrors)(e)},()=>e.error())}function Pi({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function So(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,me.stringify)(r)})}function Ti(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ve.validSchemaType=Ti;function Oi({schema:e,opts:t,self:r,errSchemaPath:n},a,o){if(Array.isArray(a.keyword)?!a.keyword.includes(o):a.keyword!==o)throw new Error("ajv implementation error");const i=a.dependencies;if(i!=null&&i.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${o}: ${i.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[o])){const d=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}Ve.validateKeywordUsage=Oi;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.extendSubschemaMode=rt.extendSubschemaData=rt.getSubschema=void 0;const Fe=F,Po=I;function Ni(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:o,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,Fe._)`${e.schemaPath}${(0,Fe.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,Fe._)`${e.schemaPath}${(0,Fe.getProperty)(t)}${(0,Fe.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Po.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||o===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:i,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}rt.getSubschema=Ni;function Ai(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:o,propertyName:i}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(r!==void 0){const{errorPath:u,dataPathArr:m,opts:$}=t,P=c.let("data",(0,Fe._)`${t.data}${(0,Fe.getProperty)(r)}`,!0);d(P),e.errorPath=(0,Fe.str)`${u}${(0,Po.getErrorPath)(r,n,$.jsPropertySyntax)}`,e.parentDataProperty=(0,Fe._)`${r}`,e.dataPathArr=[...m,e.parentDataProperty]}if(a!==void 0){const u=a instanceof Fe.Name?a:c.let("data",a,!0);d(u),i!==void 0&&(e.propertyName=i)}o&&(e.dataTypes=o);function d(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}rt.extendSubschemaData=Ai;function Ri(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:o}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}rt.extendSubschemaMode=Ri;var ce={},To=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=n;a--!==0;){var i=o[a];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},Oo={exports:{}},tt=Oo.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};mr(t,n,a,e,"",e)};tt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};tt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};tt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};tt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function mr(e,t,r,n,a,o,i,c,d,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,o,i,c,d,u);for(var m in n){var $=n[m];if(Array.isArray($)){if(m in tt.arrayKeywords)for(var P=0;P<$.length;P++)mr(e,t,r,$[P],a+"/"+m+"/"+P,o,a,m,n,P)}else if(m in tt.propsKeywords){if($&&typeof $=="object")for(var E in $)mr(e,t,r,$[E],a+"/"+m+"/"+ki(E),o,a,m,n,E)}else(m in tt.keywords||e.allKeys&&!(m in tt.skipKeywords))&&mr(e,t,r,$,a+"/"+m,o,a,m,n)}r(n,a,o,i,c,d,u)}}function ki(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ii=Oo.exports;Object.defineProperty(ce,"__esModule",{value:!0});ce.getSchemaRefs=ce.resolveUrl=ce.normalizeId=ce._getFullPath=ce.getFullPath=ce.inlineRef=void 0;const ji=I,Ci=To,Mi=Ii,Di=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Li(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Xr(e):t?No(e)<=t:!1}ce.inlineRef=Li;const zi=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Xr(e){for(const t in e){if(zi.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Xr)||typeof r=="object"&&Xr(r))return!0}return!1}function No(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Di.has(r)&&(typeof e[r]=="object"&&(0,ji.eachItem)(e[r],n=>t+=No(n)),t===1/0))return 1/0}return t}function Ao(e,t="",r){r!==!1&&(t=Et(t));const n=e.parse(t);return Ro(e,n)}ce.getFullPath=Ao;function Ro(e,t){return e.serialize(t).split("#")[0]+"#"}ce._getFullPath=Ro;const Ui=/#\/?$/;function Et(e){return e?e.replace(Ui,""):""}ce.normalizeId=Et;function Fi(e,t,r){return r=Et(r),e.resolve(t,r)}ce.resolveUrl=Fi;const Vi=/^[a-z_][-a-z0-9._]*$/i;function qi(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Et(e[r]||t),o={"":a},i=Ao(n,a,!1),c={},d=new Set;return Mi(e,{allKeys:!0},($,P,E,b)=>{if(b===void 0)return;const S=i+P;let _=o[b];typeof $[r]=="string"&&(_=h.call(this,$[r])),p.call(this,$.$anchor),p.call(this,$.$dynamicAnchor),o[P]=_;function h(T){const O=this.opts.uriResolver.resolve;if(T=Et(_?O(_,T):T),d.has(T))throw m(T);d.add(T);let j=this.refs[T];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?u($,j.schema,T):T!==Et(S)&&(T[0]==="#"?(u($,c[T],T),c[T]=$):this.refs[T]=S),T}function p(T){if(typeof T=="string"){if(!Vi.test(T))throw new Error(`invalid anchor "${T}"`);h.call(this,`#${T}`)}}}),c;function u($,P,E){if(P!==void 0&&!Ci($,P))throw m(E)}function m($){return new Error(`reference "${$}" resolves to more than one schema`)}}ce.getSchemaRefs=qi;Object.defineProperty(Se,"__esModule",{value:!0});Se.getData=Se.KeywordCxt=Se.validateFunctionCode=void 0;const ko=St,Na=ae,$n=We,_r=ae,Hi=Sr,Bt=Ve,Dr=rt,L=F,U=ve,Ki=ce,xe=I,Ut=Ot;function Gi(e){if(Co(e)&&(Mo(e),jo(e))){Bi(e);return}Io(e,()=>(0,ko.topBoolOrEmptySchema)(e))}Se.validateFunctionCode=Gi;function Io({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},o){a.code.es5?e.func(t,(0,L._)`${U.default.data}, ${U.default.valCxt}`,n.$async,()=>{e.code((0,L._)`"use strict"; ${Aa(r,a)}`),xi(e,a),e.code(o)}):e.func(t,(0,L._)`${U.default.data}, ${Wi(a)}`,n.$async,()=>e.code(Aa(r,a)).code(o))}function Wi(e){return(0,L._)`{${U.default.instancePath}="", ${U.default.parentData}, ${U.default.parentDataProperty}, ${U.default.rootData}=${U.default.data}${e.dynamicRef?(0,L._)`, ${U.default.dynamicAnchors}={}`:L.nil}}={}`}function xi(e,t){e.if(U.default.valCxt,()=>{e.var(U.default.instancePath,(0,L._)`${U.default.valCxt}.${U.default.instancePath}`),e.var(U.default.parentData,(0,L._)`${U.default.valCxt}.${U.default.parentData}`),e.var(U.default.parentDataProperty,(0,L._)`${U.default.valCxt}.${U.default.parentDataProperty}`),e.var(U.default.rootData,(0,L._)`${U.default.valCxt}.${U.default.rootData}`),t.dynamicRef&&e.var(U.default.dynamicAnchors,(0,L._)`${U.default.valCxt}.${U.default.dynamicAnchors}`)},()=>{e.var(U.default.instancePath,(0,L._)`""`),e.var(U.default.parentData,(0,L._)`undefined`),e.var(U.default.parentDataProperty,(0,L._)`undefined`),e.var(U.default.rootData,U.default.data),t.dynamicRef&&e.var(U.default.dynamicAnchors,(0,L._)`{}`)})}function Bi(e){const{schema:t,opts:r,gen:n}=e;Io(e,()=>{r.$comment&&t.$comment&&Lo(e),Qi(e),n.let(U.default.vErrors,null),n.let(U.default.errors,0),r.unevaluated&&Yi(e),Do(e),rc(e)})}function Yi(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,L._)`${r}.evaluated`),t.if((0,L._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,L._)`${e.evaluated}.props`,(0,L._)`undefined`)),t.if((0,L._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,L._)`${e.evaluated}.items`,(0,L._)`undefined`))}function Aa(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,L._)`/*# sourceURL=${r} */`:L.nil}function Ji(e,t){if(Co(e)&&(Mo(e),jo(e))){Xi(e,t);return}(0,ko.boolOrEmptySchema)(e,t)}function jo({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Co(e){return typeof e.schema!="boolean"}function Xi(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&Lo(e),ec(e),tc(e);const o=n.const("_errs",U.default.errors);Do(e,o),n.var(t,(0,L._)`${o} === ${U.default.errors}`)}function Mo(e){(0,xe.checkUnknownRules)(e),Zi(e)}function Do(e,t){if(e.opts.jtd)return Ra(e,[],!1,t);const r=(0,Na.getSchemaTypes)(e.schema),n=(0,Na.coerceAndCheckDataType)(e,r);Ra(e,r,!n,t)}function Zi(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,xe.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Qi(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,xe.checkStrictMode)(e,"default is ignored in the schema root")}function ec(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Ki.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function tc(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Lo({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const o=r.$comment;if(a.$comment===!0)e.code((0,L._)`${U.default.self}.logger.log(${o})`);else if(typeof a.$comment=="function"){const i=(0,L.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,L._)`${U.default.self}.opts.$comment(${o}, ${i}, ${c}.schema)`)}}function rc(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:o}=e;r.$async?t.if((0,L._)`${U.default.errors} === 0`,()=>t.return(U.default.data),()=>t.throw((0,L._)`new ${a}(${U.default.vErrors})`)):(t.assign((0,L._)`${n}.errors`,U.default.vErrors),o.unevaluated&&nc(e),t.return((0,L._)`${U.default.errors} === 0`))}function nc({gen:e,evaluated:t,props:r,items:n}){r instanceof L.Name&&e.assign((0,L._)`${t}.props`,r),n instanceof L.Name&&e.assign((0,L._)`${t}.items`,n)}function Ra(e,t,r,n){const{gen:a,schema:o,data:i,allErrors:c,opts:d,self:u}=e,{RULES:m}=u;if(o.$ref&&(d.ignoreKeywordsWithRef||!(0,xe.schemaHasRulesButRef)(o,m))){a.block(()=>Fo(e,"$ref",m.all.$ref.definition));return}d.jtd||ac(e,t),a.block(()=>{for(const P of m.rules)$(P);$(m.post)});function $(P){(0,$n.shouldUseGroup)(o,P)&&(P.type?(a.if((0,_r.checkDataType)(P.type,i,d.strictNumbers)),ka(e,P),t.length===1&&t[0]===P.type&&r&&(a.else(),(0,_r.reportTypeError)(e)),a.endIf()):ka(e,P),c||a.if((0,L._)`${U.default.errors} === ${n||0}`))}}function ka(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,Hi.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,$n.shouldUseRule)(n,o)&&Fo(e,o.keyword,o.definition,t.type)})}function ac(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(oc(e,t),e.opts.allowUnionTypes||sc(e,t),ic(e,e.dataTypes))}function oc(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{zo(e.dataTypes,r)||gn(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),lc(e,t)}}function sc(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&gn(e,"use allowUnionTypes to allow union type keyword")}function ic(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,$n.shouldUseRule)(e.schema,a)){const{type:o}=a.definition;o.length&&!o.some(i=>cc(t,i))&&gn(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function cc(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function zo(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function lc(e,t){const r=[];for(const n of e.dataTypes)zo(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function gn(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,xe.checkStrictMode)(e,t,e.opts.strictTypes)}class Uo{constructor(t,r,n){if((0,Bt.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,xe.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Vo(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Bt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",U.default.errors))}result(t,r,n){this.failResult((0,L.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,L.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,L._)`${r} !== undefined && (${(0,L.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ut.reportExtraError:Ut.reportError)(this,this.def.error,r)}$dataError(){(0,Ut.reportError)(this,this.def.$dataError||Ut.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ut.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=L.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=L.nil,r=L.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:o,def:i}=this;n.if((0,L.or)((0,L._)`${a} === undefined`,r)),t!==L.nil&&n.assign(t,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==L.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:o}=this;return(0,L.or)(i(),c());function i(){if(n.length){if(!(r instanceof L.Name))throw new Error("ajv implementation error");const d=Array.isArray(n)?n:[n];return(0,L._)`${(0,_r.checkDataTypes)(d,r,o.opts.strictNumbers,_r.DataType.Wrong)}`}return L.nil}function c(){if(a.validateSchema){const d=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,L._)`!${d}(${r})`}return L.nil}}subschema(t,r){const n=(0,Dr.getSubschema)(this.it,t);(0,Dr.extendSubschemaData)(n,this.it,t),(0,Dr.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return Ji(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=xe.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=xe.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,L.Name)),!0}}Se.KeywordCxt=Uo;function Fo(e,t,r,n){const a=new Uo(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Bt.funcKeywordCode)(a,r):"macro"in r?(0,Bt.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Bt.funcKeywordCode)(a,r)}const uc=/^\/(?:[^~]|~0|~1)*$/,dc=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Vo(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,o;if(e==="")return U.default.rootData;if(e[0]==="/"){if(!uc.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,o=U.default.rootData}else{const u=dc.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const m=+u[1];if(a=u[2],a==="#"){if(m>=t)throw new Error(d("property/index",m));return n[t-m]}if(m>t)throw new Error(d("data",m));if(o=r[t-m],!a)return o}let i=o;const c=a.split("/");for(const u of c)u&&(o=(0,L._)`${o}${(0,L.getProperty)((0,xe.unescapeJsonPointer)(u))}`,i=(0,L._)`${i} && ${o}`);return i;function d(u,m){return`Cannot access ${u} ${m} levels up, current level is ${t}`}}Se.getData=Vo;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});class fc extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Nt.default=fc;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});const Lr=ce;class mc extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Lr.resolveUrl)(t,r,n),this.missingSchema=(0,Lr.normalizeId)((0,Lr.getFullPath)(t,this.missingRef))}}mt.default=mc;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.resolveSchema=pe.getCompilingSchema=pe.resolveRef=pe.compileSchema=pe.SchemaEnv=void 0;const ke=F,pc=Nt,st=ve,Ce=ce,Ia=I,hc=Se;class Pr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ce.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}pe.SchemaEnv=Pr;function _n(e){const t=qo.call(this,e);if(t)return t;const r=(0,Ce.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:o}=this.opts,i=new ke.CodeGen(this.scope,{es5:n,lines:a,ownProperties:o});let c;e.$async&&(c=i.scopeValue("Error",{ref:pc.default,code:(0,ke._)`require("ajv/dist/runtime/validation_error").default`}));const d=i.scopeName("validate");e.validateName=d;const u={gen:i,allErrors:this.opts.allErrors,data:st.default.data,parentData:st.default.parentData,parentDataProperty:st.default.parentDataProperty,dataNames:[st.default.data],dataPathArr:[ke.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ke.stringify)(e.schema)}:{ref:e.schema}),validateName:d,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ke.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ke._)`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,hc.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);const $=i.toString();m=`${i.scopeRefs(st.default.scope)}return ${$}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const E=new Function(`${st.default.self}`,`${st.default.scope}`,m)(this,this.scope.get());if(this.scope.value(d,{ref:E}),E.errors=null,E.schema=e.schema,E.schemaEnv=e,e.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:d,validateCode:$,scopeValues:i._values}),this.opts.unevaluated){const{props:b,items:S}=u;E.evaluated={props:b instanceof ke.Name?void 0:b,items:S instanceof ke.Name?void 0:S,dynamicProps:b instanceof ke.Name,dynamicItems:S instanceof ke.Name},E.source&&(E.source.evaluated=(0,ke.stringify)(E.evaluated))}return e.validate=E,e}catch($){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),$}finally{this._compilations.delete(e)}}pe.compileSchema=_n;function yc(e,t,r){var n;r=(0,Ce.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let o=_c.call(this,e,r);if(o===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;i&&(o=new Pr({schema:i,schemaId:c,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=$c.call(this,o)}pe.resolveRef=yc;function $c(e){return(0,Ce.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:_n.call(this,e)}function qo(e){for(const t of this._compilations)if(gc(t,e))return t}pe.getCompilingSchema=qo;function gc(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function _c(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Tr.call(this,e,t)}function Tr(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Ce._getFullPath)(this.opts.uriResolver,r);let a=(0,Ce.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return zr.call(this,r,e);const o=(0,Ce.normalizeId)(n),i=this.refs[o]||this.schemas[o];if(typeof i=="string"){const c=Tr.call(this,e,i);return typeof(c==null?void 0:c.schema)!="object"?void 0:zr.call(this,r,c)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||_n.call(this,i),o===(0,Ce.normalizeId)(t)){const{schema:c}=i,{schemaId:d}=this.opts,u=c[d];return u&&(a=(0,Ce.resolveUrl)(this.opts.uriResolver,a,u)),new Pr({schema:c,schemaId:d,root:e,baseId:a})}return zr.call(this,r,i)}}pe.resolveSchema=Tr;const vc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function zr(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const d=r[(0,Ia.unescapeFragment)(c)];if(d===void 0)return;r=d;const u=typeof r=="object"&&r[this.opts.schemaId];!vc.has(c)&&u&&(t=(0,Ce.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Ia.schemaHasRulesButRef)(r,this.RULES)){const c=(0,Ce.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=Tr.call(this,n,c)}const{schemaId:i}=this.opts;if(o=o||new Pr({schema:r,schemaId:i,root:n,baseId:t}),o.schema!==o.root.schema)return o}const bc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",wc="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ec="object",Sc=["$data"],Pc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Tc=!1,Oc={$id:bc,description:wc,type:Ec,required:Sc,properties:Pc,additionalProperties:Tc};var vn={},Or={exports:{}};const Nc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var Ac={HEX:Nc};const{HEX:Rc}=Ac;function Ho(e){if(Go(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:Ic(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function Zr(e,t=!1){let r="",n=!0;for(const a of e){if(Rc[a]===void 0)return;a!=="0"&&n===!0&&(n=!1),n||(r+=a)}return t&&r.length===0&&(r="0"),r}function kc(e){let t=0;const r={error:!1,address:"",zone:""},n=[],a=[];let o=!1,i=!1,c=!1;function d(){if(a.length){if(o===!1){const u=Zr(a);if(u!==void 0)n.push(u);else return r.error=!0,!1}a.length=0}return!0}for(let u=0;u<e.length;u++){const m=e[u];if(!(m==="["||m==="]"))if(m===":"){if(i===!0&&(c=!0),!d())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(i=!0);continue}else if(m==="%"){if(!d())break;o=!0}else{a.push(m);continue}}return a.length&&(o?r.zone=a.join(""):c?n.push(a.join("")):n.push(Zr(a))),r.address=n.join(""),r}function Ko(e,t={}){if(Go(e,":")<2)return{host:e,isIPV6:!1};const r=kc(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,a=r.address;return r.zone&&(n+="%"+r.zone,a+="%25"+r.zone),{host:n,escapedHost:a,isIPV6:!0}}}function Ic(e,t){let r="",n=!0;const a=e.length;for(let o=0;o<a;o++){const i=e[o];i==="0"&&n?(o+1<=a&&e[o+1]===t||o+1===a)&&(r+=i,n=!1):(i===t?n=!0:n=!1,r+=i)}return r}function Go(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const ja=/^\.\.?\//u,Ca=/^\/\.(?:\/|$)/u,Ma=/^\/\.\.(?:\/|$)/u,jc=/^\/?(?:.|\n)*?(?=\/|$)/u;function Cc(e){const t=[];for(;e.length;)if(e.match(ja))e=e.replace(ja,"");else if(e.match(Ca))e=e.replace(Ca,"/");else if(e.match(Ma))e=e.replace(Ma,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(jc);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Mc(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Dc(e,t){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host);const a=Ho(n);if(a.isIPV4)n=a.host;else{const o=Ko(a.host,{isIPV4:!1});o.isIPV6===!0?n=`[${o.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Lc={recomposeAuthority:Dc,normalizeComponentEncoding:Mc,removeDotSegments:Cc,normalizeIPv4:Ho,normalizeIPv6:Ko,stringArrayToHexStripped:Zr};const zc=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Uc=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Wo(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function xo(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Bo(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Fc(e){return e.secure=Wo(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Vc(e){if((e.port===(Wo(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function qc(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Uc);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const a=`${n}:${t.nid||e.nid}`,o=bn[a];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Hc(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),a=`${r}:${t.nid||n}`,o=bn[a];o&&(e=o.serialize(e,t));const i=e,c=e.nss;return i.path=`${n||t.nid}:${c}`,t.skipEscape=!0,i}function Kc(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!zc.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Gc(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const Yo={scheme:"http",domainHost:!0,parse:xo,serialize:Bo},Wc={scheme:"https",domainHost:Yo.domainHost,parse:xo,serialize:Bo},pr={scheme:"ws",domainHost:!0,parse:Fc,serialize:Vc},xc={scheme:"wss",domainHost:pr.domainHost,parse:pr.parse,serialize:pr.serialize},Bc={scheme:"urn",parse:qc,serialize:Hc,skipNormalize:!0},Yc={scheme:"urn:uuid",parse:Kc,serialize:Gc,skipNormalize:!0},bn={http:Yo,https:Wc,ws:pr,wss:xc,urn:Bc,"urn:uuid":Yc};var Jc=bn;const{normalizeIPv6:Xc,normalizeIPv4:Zc,removeDotSegments:Wt,recomposeAuthority:Qc,normalizeComponentEncoding:or}=Lc,wn=Jc;function el(e,t){return typeof e=="string"?e=qe(Be(e,t),t):typeof e=="object"&&(e=Be(qe(e,t),t)),e}function tl(e,t,r){const n=Object.assign({scheme:"null"},r),a=Jo(Be(e,n),Be(t,n),n,!0);return qe(a,{...n,skipEscape:!0})}function Jo(e,t,r,n){const a={};return n||(e=Be(qe(e,r),r),t=Be(qe(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Wt(t.path||""),a.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Wt(t.path||""),a.query=t.query):(t.path?(t.path.charAt(0)==="/"?a.path=Wt(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?a.path="/"+t.path:e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path,a.path=Wt(a.path)),a.query=t.query):(a.path=e.path,t.query!==void 0?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function rl(e,t,r){return typeof e=="string"?(e=unescape(e),e=qe(or(Be(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=qe(or(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=qe(or(Be(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=qe(or(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function qe(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),a=[],o=wn[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const i=Qc(r,n);if(i!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(i),r.path&&r.path.charAt(0)!=="/"&&a.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(c=Wt(c)),i===void 0&&(c=c.replace(/^\/\//u,"/%2F")),a.push(c)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const nl=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function al(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||nl[t])return!0;return!1}const ol=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Be(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},a=e.indexOf("%")!==-1;let o=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const i=e.match(ol);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){const d=Zc(n.host);if(d.isIPV4===!1){const u=Xc(d.host,{isIPV4:!1});n.host=u.host.toLowerCase(),o=u.isIPV6}else n.host=d.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const c=wn[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!c||!c.unicodeSupport)&&n.host&&(r.domainHost||c&&c.domainHost)&&o===!1&&al(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(d){n.error=n.error||"Host's domain name can not be converted to ASCII: "+d}(!c||c&&!c.skipNormalize)&&(a&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),a&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),c&&c.parse&&c.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const En={SCHEMES:wn,normalize:el,resolve:tl,resolveComponents:Jo,equal:rl,serialize:qe,parse:Be};Or.exports=En;Or.exports.default=En;Or.exports.fastUri=En;var sl=Or.exports;Object.defineProperty(vn,"__esModule",{value:!0});const Xo=sl;Xo.code='require("ajv/dist/runtime/uri").default';vn.default=Xo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Se;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=F;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Nt,a=mt,o=ft,i=pe,c=F,d=ce,u=ae,m=I,$=Oc,P=vn,E=(R,g)=>new RegExp(R,g);E.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function T(R){var g,v,f,s,l,w,k,N,M,q,J,X,Ae,Re,nt,at,De,Je,Xe,pt,ht,jt,ot,He,Le;const Te=R.strict,yt=(g=R.code)===null||g===void 0?void 0:g.optimize,Ct=yt===!0||yt===void 0?1:yt||0,Mt=(f=(v=R.code)===null||v===void 0?void 0:v.regExp)!==null&&f!==void 0?f:E,Dt=(s=R.uriResolver)!==null&&s!==void 0?s:P.default;return{strictSchema:(w=(l=R.strictSchema)!==null&&l!==void 0?l:Te)!==null&&w!==void 0?w:!0,strictNumbers:(N=(k=R.strictNumbers)!==null&&k!==void 0?k:Te)!==null&&N!==void 0?N:!0,strictTypes:(q=(M=R.strictTypes)!==null&&M!==void 0?M:Te)!==null&&q!==void 0?q:"log",strictTuples:(X=(J=R.strictTuples)!==null&&J!==void 0?J:Te)!==null&&X!==void 0?X:"log",strictRequired:(Re=(Ae=R.strictRequired)!==null&&Ae!==void 0?Ae:Te)!==null&&Re!==void 0?Re:!1,code:R.code?{...R.code,optimize:Ct,regExp:Mt}:{optimize:Ct,regExp:Mt},loopRequired:(nt=R.loopRequired)!==null&&nt!==void 0?nt:p,loopEnum:(at=R.loopEnum)!==null&&at!==void 0?at:p,meta:(De=R.meta)!==null&&De!==void 0?De:!0,messages:(Je=R.messages)!==null&&Je!==void 0?Je:!0,inlineRefs:(Xe=R.inlineRefs)!==null&&Xe!==void 0?Xe:!0,schemaId:(pt=R.schemaId)!==null&&pt!==void 0?pt:"$id",addUsedSchema:(ht=R.addUsedSchema)!==null&&ht!==void 0?ht:!0,validateSchema:(jt=R.validateSchema)!==null&&jt!==void 0?jt:!0,validateFormats:(ot=R.validateFormats)!==null&&ot!==void 0?ot:!0,unicodeRegExp:(He=R.unicodeRegExp)!==null&&He!==void 0?He:!0,int32range:(Le=R.int32range)!==null&&Le!==void 0?Le:!0,uriResolver:Dt}}class O{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...T(g)};const{es5:v,lines:f}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:S,es5:v,lines:f}),this.logger=V(g.logger);const s=g.validateFormats;g.validateFormats=!1,this.RULES=(0,o.getRules)(),j.call(this,_,g,"NOT SUPPORTED"),j.call(this,h,g,"DEPRECATED","warn"),this._metaOpts=be.call(this),g.formats&&te.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&ye.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),B.call(this),g.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:v,schemaId:f}=this.opts;let s=$;f==="id"&&(s={...$},s.id=s.$id,delete s.$id),v&&g&&this.addMetaSchema(s,s[f],!1)}defaultMeta(){const{meta:g,schemaId:v}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[v]||g:void 0}validate(g,v){let f;if(typeof g=="string"){if(f=this.getSchema(g),!f)throw new Error(`no schema with key or ref "${g}"`)}else f=this.compile(g);const s=f(v);return"$async"in f||(this.errors=f.errors),s}compile(g,v){const f=this._addSchema(g,v);return f.validate||this._compileSchemaEnv(f)}compileAsync(g,v){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:f}=this.opts;return s.call(this,g,v);async function s(q,J){await l.call(this,q.$schema);const X=this._addSchema(q,J);return X.validate||w.call(this,X)}async function l(q){q&&!this.getSchema(q)&&await s.call(this,{$ref:q},!0)}async function w(q){try{return this._compileSchemaEnv(q)}catch(J){if(!(J instanceof a.default))throw J;return k.call(this,J),await N.call(this,J.missingSchema),w.call(this,q)}}function k({missingSchema:q,missingRef:J}){if(this.refs[q])throw new Error(`AnySchema ${q} is loaded but ${J} cannot be resolved`)}async function N(q){const J=await M.call(this,q);this.refs[q]||await l.call(this,J.$schema),this.refs[q]||this.addSchema(J,q,v)}async function M(q){const J=this._loading[q];if(J)return J;try{return await(this._loading[q]=f(q))}finally{delete this._loading[q]}}}addSchema(g,v,f,s=this.opts.validateSchema){if(Array.isArray(g)){for(const w of g)this.addSchema(w,void 0,f,s);return this}let l;if(typeof g=="object"){const{schemaId:w}=this.opts;if(l=g[w],l!==void 0&&typeof l!="string")throw new Error(`schema ${w} must be string`)}return v=(0,d.normalizeId)(v||l),this._checkUnique(v),this.schemas[v]=this._addSchema(g,f,v,s,!0),this}addMetaSchema(g,v,f=this.opts.validateSchema){return this.addSchema(g,v,!0,f),this}validateSchema(g,v){if(typeof g=="boolean")return!0;let f;if(f=g.$schema,f!==void 0&&typeof f!="string")throw new Error("$schema must be a string");if(f=f||this.opts.defaultMeta||this.defaultMeta(),!f)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(f,g);if(!s&&v){const l="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(l);else throw new Error(l)}return s}getSchema(g){let v;for(;typeof(v=G.call(this,g))=="string";)g=v;if(v===void 0){const{schemaId:f}=this.opts,s=new i.SchemaEnv({schema:{},schemaId:f});if(v=i.resolveSchema.call(this,s,g),!v)return;this.refs[g]=v}return v.validate||this._compileSchemaEnv(v)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const v=G.call(this,g);return typeof v=="object"&&this._cache.delete(v.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const v=g;this._cache.delete(v);let f=g[this.opts.schemaId];return f&&(f=(0,d.normalizeId)(f),delete this.schemas[f],delete this.refs[f]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const v of g)this.addKeyword(v);return this}addKeyword(g,v){let f;if(typeof g=="string")f=g,typeof v=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),v.keyword=f);else if(typeof g=="object"&&v===void 0){if(v=g,f=v.keyword,Array.isArray(f)&&!f.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,f,v),!v)return(0,m.eachItem)(f,l=>re.call(this,l)),this;we.call(this,v);const s={...v,type:(0,u.getJSONTypes)(v.type),schemaType:(0,u.getJSONTypes)(v.schemaType)};return(0,m.eachItem)(f,s.type.length===0?l=>re.call(this,l,s):l=>s.type.forEach(w=>re.call(this,l,s,w))),this}getKeyword(g){const v=this.RULES.all[g];return typeof v=="object"?v.definition:!!v}removeKeyword(g){const{RULES:v}=this;delete v.keywords[g],delete v.all[g];for(const f of v.rules){const s=f.rules.findIndex(l=>l.keyword===g);s>=0&&f.rules.splice(s,1)}return this}addFormat(g,v){return typeof v=="string"&&(v=new RegExp(v)),this.formats[g]=v,this}errorsText(g=this.errors,{separator:v=", ",dataVar:f="data"}={}){return!g||g.length===0?"No errors":g.map(s=>`${f}${s.instancePath} ${s.message}`).reduce((s,l)=>s+v+l)}$dataMetaSchema(g,v){const f=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const s of v){const l=s.split("/").slice(1);let w=g;for(const k of l)w=w[k];for(const k in f){const N=f[k];if(typeof N!="object")continue;const{$data:M}=N.definition,q=w[k];M&&q&&(w[k]=Ee(q))}}return g}_removeAllSchemas(g,v){for(const f in g){const s=g[f];(!v||v.test(f))&&(typeof s=="string"?delete g[f]:s&&!s.meta&&(this._cache.delete(s.schema),delete g[f]))}}_addSchema(g,v,f,s=this.opts.validateSchema,l=this.opts.addUsedSchema){let w;const{schemaId:k}=this.opts;if(typeof g=="object")w=g[k];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let N=this._cache.get(g);if(N!==void 0)return N;f=(0,d.normalizeId)(w||f);const M=d.getSchemaRefs.call(this,g,f);return N=new i.SchemaEnv({schema:g,schemaId:k,meta:v,baseId:f,localRefs:M}),this._cache.set(N.schema,N),l&&!f.startsWith("#")&&(f&&this._checkUnique(f),this.refs[f]=N),s&&this.validateSchema(g,!0),N}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):i.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const v=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,g)}finally{this.opts=v}}}O.ValidationError=n.default,O.MissingRefError=a.default,e.default=O;function j(R,g,v,f="error"){for(const s in R){const l=s;l in g&&this.logger[f](`${v}: option ${s}. ${R[l]}`)}}function G(R){return R=(0,d.normalizeId)(R),this.schemas[R]||this.refs[R]}function B(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const g in R)this.addSchema(R[g],g)}function te(){for(const R in this.opts.formats){const g=this.opts.formats[R];g&&this.addFormat(R,g)}}function ye(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in R){const v=R[g];v.keyword||(v.keyword=g),this.addKeyword(v)}}function be(){const R={...this.opts};for(const g of b)delete R[g];return R}const C={log(){},warn(){},error(){}};function V(R){if(R===!1)return C;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function H(R,g){const{RULES:v}=this;if((0,m.eachItem)(R,f=>{if(v.keywords[f])throw new Error(`Keyword ${f} is already defined`);if(!Y.test(f))throw new Error(`Keyword ${f} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function re(R,g,v){var f;const s=g==null?void 0:g.post;if(v&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:l}=this;let w=s?l.post:l.rules.find(({type:N})=>N===v);if(w||(w={type:v,rules:[]},l.rules.push(w)),l.keywords[R]=!0,!g)return;const k={keyword:R,definition:{...g,type:(0,u.getJSONTypes)(g.type),schemaType:(0,u.getJSONTypes)(g.schemaType)}};g.before?$e.call(this,w,k,g.before):w.rules.push(k),l.all[R]=k,(f=g.implements)===null||f===void 0||f.forEach(N=>this.addKeyword(N))}function $e(R,g,v){const f=R.rules.findIndex(s=>s.keyword===v);f>=0?R.rules.splice(f,0,g):(R.rules.push(g),this.logger.warn(`rule ${v} is not defined`))}function we(R){let{metaSchema:g}=R;g!==void 0&&(R.$data&&this.opts.$data&&(g=Ee(g)),R.validateSchema=this.compile(g,!0))}const Me={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ee(R){return{anyOf:[R,Me]}}})(ln);var Nr={},Sn={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const il={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Pn.default=il;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.callRef=Ye.getValidate=void 0;const cl=mt,Da=W,_e=F,vt=ve,La=pe,sr=I,ll={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:o,validateName:i,opts:c,self:d}=n,{root:u}=o;if((r==="#"||r==="#/")&&a===u.baseId)return $();const m=La.resolveRef.call(d,u,a,r);if(m===void 0)throw new cl.default(n.opts.uriResolver,a,r);if(m instanceof La.SchemaEnv)return P(m);return E(m);function $(){if(o===u)return hr(e,i,o,o.$async);const b=t.scopeValue("root",{ref:u});return hr(e,(0,_e._)`${b}.validate`,u,u.$async)}function P(b){const S=Zo(e,b);hr(e,S,b,b.$async)}function E(b){const S=t.scopeValue("schema",c.code.source===!0?{ref:b,code:(0,_e.stringify)(b)}:{ref:b}),_=t.name("valid"),h=e.subschema({schema:b,dataTypes:[],schemaPath:_e.nil,topSchemaRef:S,errSchemaPath:r},_);e.mergeEvaluated(h),e.ok(_)}}};function Zo(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,_e._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Ye.getValidate=Zo;function hr(e,t,r,n){const{gen:a,it:o}=e,{allErrors:i,schemaEnv:c,opts:d}=o,u=d.passContext?vt.default.this:_e.nil;n?m():$();function m(){if(!c.$async)throw new Error("async schema referenced by sync schema");const b=a.let("valid");a.try(()=>{a.code((0,_e._)`await ${(0,Da.callValidateCode)(e,t,u)}`),E(t),i||a.assign(b,!0)},S=>{a.if((0,_e._)`!(${S} instanceof ${o.ValidationError})`,()=>a.throw(S)),P(S),i||a.assign(b,!1)}),e.ok(b)}function $(){e.result((0,Da.callValidateCode)(e,t,u),()=>E(t),()=>P(t))}function P(b){const S=(0,_e._)`${b}.errors`;a.assign(vt.default.vErrors,(0,_e._)`${vt.default.vErrors} === null ? ${S} : ${vt.default.vErrors}.concat(${S})`),a.assign(vt.default.errors,(0,_e._)`${vt.default.vErrors}.length`)}function E(b){var S;if(!o.opts.unevaluated)return;const _=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(o.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(o.props=sr.mergeEvaluated.props(a,_.props,o.props));else{const h=a.var("props",(0,_e._)`${b}.evaluated.props`);o.props=sr.mergeEvaluated.props(a,h,o.props,_e.Name)}if(o.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(o.items=sr.mergeEvaluated.items(a,_.items,o.items));else{const h=a.var("items",(0,_e._)`${b}.evaluated.items`);o.items=sr.mergeEvaluated.items(a,h,o.items,_e.Name)}}}Ye.callRef=hr;Ye.default=ll;Object.defineProperty(Sn,"__esModule",{value:!0});const ul=Pn,dl=Ye,fl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ul.default,dl.default];Sn.default=fl;var Tn={},On={};Object.defineProperty(On,"__esModule",{value:!0});const vr=F,Qe=vr.operators,br={maximum:{okStr:"<=",ok:Qe.LTE,fail:Qe.GT},minimum:{okStr:">=",ok:Qe.GTE,fail:Qe.LT},exclusiveMaximum:{okStr:"<",ok:Qe.LT,fail:Qe.GTE},exclusiveMinimum:{okStr:">",ok:Qe.GT,fail:Qe.LTE}},ml={message:({keyword:e,schemaCode:t})=>(0,vr.str)`must be ${br[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,vr._)`{comparison: ${br[e].okStr}, limit: ${t}}`},pl={keyword:Object.keys(br),type:"number",schemaType:"number",$data:!0,error:ml,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,vr._)`${r} ${br[t].fail} ${n} || isNaN(${r})`)}};On.default=pl;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Yt=F,hl={message:({schemaCode:e})=>(0,Yt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Yt._)`{multipleOf: ${e}}`},yl={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:hl,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,o=a.opts.multipleOfPrecision,i=t.let("res"),c=o?(0,Yt._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${o}`:(0,Yt._)`${i} !== parseInt(${i})`;e.fail$data((0,Yt._)`(${n} === 0 || (${i} = ${r}/${n}, ${c}))`)}};Nn.default=yl;var An={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});function Qo(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}Rn.default=Qo;Qo.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(An,"__esModule",{value:!0});const lt=F,$l=I,gl=Rn,_l={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,lt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,lt._)`{limit: ${e}}`},vl={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:_l,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,o=t==="maxLength"?lt.operators.GT:lt.operators.LT,i=a.opts.unicode===!1?(0,lt._)`${r}.length`:(0,lt._)`${(0,$l.useFunc)(e.gen,gl.default)}(${r})`;e.fail$data((0,lt._)`${i} ${o} ${n}`)}};An.default=vl;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const bl=W,wr=F,wl={message:({schemaCode:e})=>(0,wr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,wr._)`{pattern: ${e}}`},El={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:wl,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:o}=e,i=o.opts.unicodeRegExp?"u":"",c=r?(0,wr._)`(new RegExp(${a}, ${i}))`:(0,bl.usePattern)(e,n);e.fail$data((0,wr._)`!${c}.test(${t})`)}};kn.default=El;var In={};Object.defineProperty(In,"__esModule",{value:!0});const Jt=F,Sl={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Jt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Jt._)`{limit: ${e}}`},Pl={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Sl,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Jt.operators.GT:Jt.operators.LT;e.fail$data((0,Jt._)`Object.keys(${r}).length ${a} ${n}`)}};In.default=Pl;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});const Ft=W,Xt=F,Tl=I,Ol={message:({params:{missingProperty:e}})=>(0,Xt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Xt._)`{missingProperty: ${e}}`},Nl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ol,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:o,it:i}=e,{opts:c}=i;if(!o&&r.length===0)return;const d=r.length>=c.loopRequired;if(i.allErrors?u():m(),c.strictRequired){const E=e.parentSchema.properties,{definedProperties:b}=e.it;for(const S of r)if((E==null?void 0:E[S])===void 0&&!b.has(S)){const _=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${S}" is not defined at "${_}" (strictRequired)`;(0,Tl.checkStrictMode)(i,h,i.opts.strictRequired)}}function u(){if(d||o)e.block$data(Xt.nil,$);else for(const E of r)(0,Ft.checkReportMissingProp)(e,E)}function m(){const E=t.let("missing");if(d||o){const b=t.let("valid",!0);e.block$data(b,()=>P(E,b)),e.ok(b)}else t.if((0,Ft.checkMissingProp)(e,r,E)),(0,Ft.reportMissingProp)(e,E),t.else()}function $(){t.forOf("prop",n,E=>{e.setParams({missingProperty:E}),t.if((0,Ft.noPropertyInData)(t,a,E,c.ownProperties),()=>e.error())})}function P(E,b){e.setParams({missingProperty:E}),t.forOf(E,n,()=>{t.assign(b,(0,Ft.propertyInData)(t,a,E,c.ownProperties)),t.if((0,Xt.not)(b),()=>{e.error(),t.break()})},Xt.nil)}}};jn.default=Nl;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const Zt=F,Al={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Zt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Zt._)`{limit: ${e}}`},Rl={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Al,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Zt.operators.GT:Zt.operators.LT;e.fail$data((0,Zt._)`${r}.length ${a} ${n}`)}};Cn.default=Rl;var Mn={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});const es=To;es.code='require("ajv/dist/runtime/equal").default';Qt.default=es;Object.defineProperty(Mn,"__esModule",{value:!0});const Ur=ae,ie=F,kl=I,Il=Qt,jl={message:({params:{i:e,j:t}})=>(0,ie.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ie._)`{i: ${e}, j: ${t}}`},Cl={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:jl,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:o,schemaCode:i,it:c}=e;if(!n&&!a)return;const d=t.let("valid"),u=o.items?(0,Ur.getSchemaTypes)(o.items):[];e.block$data(d,m,(0,ie._)`${i} === false`),e.ok(d);function m(){const b=t.let("i",(0,ie._)`${r}.length`),S=t.let("j");e.setParams({i:b,j:S}),t.assign(d,!0),t.if((0,ie._)`${b} > 1`,()=>($()?P:E)(b,S))}function $(){return u.length>0&&!u.some(b=>b==="object"||b==="array")}function P(b,S){const _=t.name("item"),h=(0,Ur.checkDataTypes)(u,_,c.opts.strictNumbers,Ur.DataType.Wrong),p=t.const("indices",(0,ie._)`{}`);t.for((0,ie._)`;${b}--;`,()=>{t.let(_,(0,ie._)`${r}[${b}]`),t.if(h,(0,ie._)`continue`),u.length>1&&t.if((0,ie._)`typeof ${_} == "string"`,(0,ie._)`${_} += "_"`),t.if((0,ie._)`typeof ${p}[${_}] == "number"`,()=>{t.assign(S,(0,ie._)`${p}[${_}]`),e.error(),t.assign(d,!1).break()}).code((0,ie._)`${p}[${_}] = ${b}`)})}function E(b,S){const _=(0,kl.useFunc)(t,Il.default),h=t.name("outer");t.label(h).for((0,ie._)`;${b}--;`,()=>t.for((0,ie._)`${S} = ${b}; ${S}--;`,()=>t.if((0,ie._)`${_}(${r}[${b}], ${r}[${S}])`,()=>{e.error(),t.assign(d,!1).break(h)})))}}};Mn.default=Cl;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const Qr=F,Ml=I,Dl=Qt,Ll={message:"must be equal to constant",params:({schemaCode:e})=>(0,Qr._)`{allowedValue: ${e}}`},zl={keyword:"const",$data:!0,error:Ll,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,Qr._)`!${(0,Ml.useFunc)(t,Dl.default)}(${r}, ${a})`):e.fail((0,Qr._)`${o} !== ${r}`)}};Dn.default=zl;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});const xt=F,Ul=I,Fl=Qt,Vl={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,xt._)`{allowedValues: ${e}}`},ql={keyword:"enum",schemaType:"array",$data:!0,error:Vl,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:o,it:i}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const c=a.length>=i.opts.loopEnum;let d;const u=()=>d??(d=(0,Ul.useFunc)(t,Fl.default));let m;if(c||n)m=t.let("valid"),e.block$data(m,$);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const E=t.const("vSchema",o);m=(0,xt.or)(...a.map((b,S)=>P(E,S)))}e.pass(m);function $(){t.assign(m,!1),t.forOf("v",o,E=>t.if((0,xt._)`${u()}(${r}, ${E})`,()=>t.assign(m,!0).break()))}function P(E,b){const S=a[b];return typeof S=="object"&&S!==null?(0,xt._)`${u()}(${r}, ${E}[${b}])`:(0,xt._)`${r} === ${S}`}}};Ln.default=ql;Object.defineProperty(Tn,"__esModule",{value:!0});const Hl=On,Kl=Nn,Gl=An,Wl=kn,xl=In,Bl=jn,Yl=Cn,Jl=Mn,Xl=Dn,Zl=Ln,Ql=[Hl.default,Kl.default,Gl.default,Wl.default,xl.default,Bl.default,Yl.default,Jl.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Xl.default,Zl.default];Tn.default=Ql;var zn={},At={};Object.defineProperty(At,"__esModule",{value:!0});At.validateAdditionalItems=void 0;const ut=F,en=I,eu={message:({params:{len:e}})=>(0,ut.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ut._)`{limit: ${e}}`},tu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:eu,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,en.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ts(e,n)}};function ts(e,t){const{gen:r,schema:n,data:a,keyword:o,it:i}=e;i.items=!0;const c=r.const("len",(0,ut._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,ut._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,en.alwaysValidSchema)(i,n)){const u=r.var("valid",(0,ut._)`${c} <= ${t.length}`);r.if((0,ut.not)(u),()=>d(u)),e.ok(u)}function d(u){r.forRange("i",t.length,c,m=>{e.subschema({keyword:o,dataProp:m,dataPropType:en.Type.Num},u),i.allErrors||r.if((0,ut.not)(u),()=>r.break())})}}At.validateAdditionalItems=ts;At.default=tu;var Un={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.validateTuple=void 0;const za=F,yr=I,ru=W,nu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return rs(e,"additionalItems",t);r.items=!0,!(0,yr.alwaysValidSchema)(r,t)&&e.ok((0,ru.validateArray)(e))}};function rs(e,t,r=e.schema){const{gen:n,parentSchema:a,data:o,keyword:i,it:c}=e;m(a),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=yr.mergeEvaluated.items(n,r.length,c.items));const d=n.name("valid"),u=n.const("len",(0,za._)`${o}.length`);r.forEach(($,P)=>{(0,yr.alwaysValidSchema)(c,$)||(n.if((0,za._)`${u} > ${P}`,()=>e.subschema({keyword:i,schemaProp:P,dataProp:P},d)),e.ok(d))});function m($){const{opts:P,errSchemaPath:E}=c,b=r.length,S=b===$.minItems&&(b===$.maxItems||$[t]===!1);if(P.strictTuples&&!S){const _=`"${i}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${E}"`;(0,yr.checkStrictMode)(c,_,P.strictTuples)}}}Rt.validateTuple=rs;Rt.default=nu;Object.defineProperty(Un,"__esModule",{value:!0});const au=Rt,ou={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,au.validateTuple)(e,"items")};Un.default=ou;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const Ua=F,su=I,iu=W,cu=At,lu={message:({params:{len:e}})=>(0,Ua.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ua._)`{limit: ${e}}`},uu={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:lu,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,su.alwaysValidSchema)(n,t)&&(a?(0,cu.validateAdditionalItems)(e,a):e.ok((0,iu.validateArray)(e)))}};Fn.default=uu;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});const Oe=F,ir=I,du={message:({params:{min:e,max:t}})=>t===void 0?(0,Oe.str)`must contain at least ${e} valid item(s)`:(0,Oe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Oe._)`{minContains: ${e}}`:(0,Oe._)`{minContains: ${e}, maxContains: ${t}}`},fu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:du,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;let i,c;const{minContains:d,maxContains:u}=n;o.opts.next?(i=d===void 0?1:d,c=u):i=1;const m=t.const("len",(0,Oe._)`${a}.length`);if(e.setParams({min:i,max:c}),c===void 0&&i===0){(0,ir.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&i>c){(0,ir.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ir.alwaysValidSchema)(o,r)){let S=(0,Oe._)`${m} >= ${i}`;c!==void 0&&(S=(0,Oe._)`${S} && ${m} <= ${c}`),e.pass(S);return}o.items=!0;const $=t.name("valid");c===void 0&&i===1?E($,()=>t.if($,()=>t.break())):i===0?(t.let($,!0),c!==void 0&&t.if((0,Oe._)`${a}.length > 0`,P)):(t.let($,!1),P()),e.result($,()=>e.reset());function P(){const S=t.name("_valid"),_=t.let("count",0);E(S,()=>t.if(S,()=>b(_)))}function E(S,_){t.forRange("i",0,m,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:ir.Type.Num,compositeRule:!0},S),_()})}function b(S){t.code((0,Oe._)`${S}++`),c===void 0?t.if((0,Oe._)`${S} >= ${i}`,()=>t.assign($,!0).break()):(t.if((0,Oe._)`${S} > ${c}`,()=>t.assign($,!1).break()),i===1?t.assign($,!0):t.if((0,Oe._)`${S} >= ${i}`,()=>t.assign($,!0)))}}};Vn.default=fu;var Ar={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=F,r=I,n=W;e.error={message:({params:{property:d,depsCount:u,deps:m}})=>{const $=u===1?"property":"properties";return(0,t.str)`must have ${$} ${m} when property ${d} is present`},params:({params:{property:d,depsCount:u,deps:m,missingProperty:$}})=>(0,t._)`{property: ${d},
    missingProperty: ${$},
    depsCount: ${u},
    deps: ${m}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(d){const[u,m]=o(d);i(d,u),c(d,m)}};function o({schema:d}){const u={},m={};for(const $ in d){if($==="__proto__")continue;const P=Array.isArray(d[$])?u:m;P[$]=d[$]}return[u,m]}function i(d,u=d.schema){const{gen:m,data:$,it:P}=d;if(Object.keys(u).length===0)return;const E=m.let("missing");for(const b in u){const S=u[b];if(S.length===0)continue;const _=(0,n.propertyInData)(m,$,b,P.opts.ownProperties);d.setParams({property:b,depsCount:S.length,deps:S.join(", ")}),P.allErrors?m.if(_,()=>{for(const h of S)(0,n.checkReportMissingProp)(d,h)}):(m.if((0,t._)`${_} && (${(0,n.checkMissingProp)(d,S,E)})`),(0,n.reportMissingProp)(d,E),m.else())}}e.validatePropertyDeps=i;function c(d,u=d.schema){const{gen:m,data:$,keyword:P,it:E}=d,b=m.name("valid");for(const S in u)(0,r.alwaysValidSchema)(E,u[S])||(m.if((0,n.propertyInData)(m,$,S,E.opts.ownProperties),()=>{const _=d.subschema({keyword:P,schemaProp:S},b);d.mergeValidEvaluated(_,b)},()=>m.var(b,!0)),d.ok(b))}e.validateSchemaDeps=c,e.default=a})(Ar);var qn={};Object.defineProperty(qn,"__esModule",{value:!0});const ns=F,mu=I,pu={message:"property name must be valid",params:({params:e})=>(0,ns._)`{propertyName: ${e.propertyName}}`},hu={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:pu,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,mu.alwaysValidSchema)(a,r))return;const o=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},o),t.if((0,ns.not)(o),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(o)}};qn.default=hu;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});const cr=W,Ie=F,yu=ve,lr=I,$u={message:"must NOT have additional properties",params:({params:e})=>(0,Ie._)`{additionalProperty: ${e.additionalProperty}}`},gu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:$u,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:o,it:i}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:c,opts:d}=i;if(i.props=!0,d.removeAdditional!=="all"&&(0,lr.alwaysValidSchema)(i,r))return;const u=(0,cr.allSchemaProperties)(n.properties),m=(0,cr.allSchemaProperties)(n.patternProperties);$(),e.ok((0,Ie._)`${o} === ${yu.default.errors}`);function $(){t.forIn("key",a,_=>{!u.length&&!m.length?b(_):t.if(P(_),()=>b(_))})}function P(_){let h;if(u.length>8){const p=(0,lr.schemaRefOrVal)(i,n.properties,"properties");h=(0,cr.isOwnProperty)(t,p,_)}else u.length?h=(0,Ie.or)(...u.map(p=>(0,Ie._)`${_} === ${p}`)):h=Ie.nil;return m.length&&(h=(0,Ie.or)(h,...m.map(p=>(0,Ie._)`${(0,cr.usePattern)(e,p)}.test(${_})`))),(0,Ie.not)(h)}function E(_){t.code((0,Ie._)`delete ${a}[${_}]`)}function b(_){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){E(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,lr.alwaysValidSchema)(i,r)){const h=t.name("valid");d.removeAdditional==="failing"?(S(_,h,!1),t.if((0,Ie.not)(h),()=>{e.reset(),E(_)})):(S(_,h),c||t.if((0,Ie.not)(h),()=>t.break()))}}function S(_,h,p){const T={keyword:"additionalProperties",dataProp:_,dataPropType:lr.Type.Str};p===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(T,h)}}};Rr.default=gu;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});const _u=Se,Fa=W,Fr=I,Va=Rr,vu={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Va.default.code(new _u.KeywordCxt(o,Va.default,"additionalProperties"));const i=(0,Fa.allSchemaProperties)(r);for(const $ of i)o.definedProperties.add($);o.opts.unevaluated&&i.length&&o.props!==!0&&(o.props=Fr.mergeEvaluated.props(t,(0,Fr.toHash)(i),o.props));const c=i.filter($=>!(0,Fr.alwaysValidSchema)(o,r[$]));if(c.length===0)return;const d=t.name("valid");for(const $ of c)u($)?m($):(t.if((0,Fa.propertyInData)(t,a,$,o.opts.ownProperties)),m($),o.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add($),e.ok(d);function u($){return o.opts.useDefaults&&!o.compositeRule&&r[$].default!==void 0}function m($){e.subschema({keyword:"properties",schemaProp:$,dataProp:$},d)}}};Hn.default=vu;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});const qa=W,ur=F,Ha=I,Ka=I,bu={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:o}=e,{opts:i}=o,c=(0,qa.allSchemaProperties)(r),d=c.filter(S=>(0,Ha.alwaysValidSchema)(o,r[S]));if(c.length===0||d.length===c.length&&(!o.opts.unevaluated||o.props===!0))return;const u=i.strictSchema&&!i.allowMatchingProperties&&a.properties,m=t.name("valid");o.props!==!0&&!(o.props instanceof ur.Name)&&(o.props=(0,Ka.evaluatedPropsToName)(t,o.props));const{props:$}=o;P();function P(){for(const S of c)u&&E(S),o.allErrors?b(S):(t.var(m,!0),b(S),t.if(m))}function E(S){for(const _ in u)new RegExp(S).test(_)&&(0,Ha.checkStrictMode)(o,`property ${_} matches pattern ${S} (use allowMatchingProperties)`)}function b(S){t.forIn("key",n,_=>{t.if((0,ur._)`${(0,qa.usePattern)(e,S)}.test(${_})`,()=>{const h=d.includes(S);h||e.subschema({keyword:"patternProperties",schemaProp:S,dataProp:_,dataPropType:Ka.Type.Str},m),o.opts.unevaluated&&$!==!0?t.assign((0,ur._)`${$}[${_}]`,!0):!h&&!o.allErrors&&t.if((0,ur.not)(m),()=>t.break())})})}}};Kn.default=bu;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});const wu=I,Eu={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,wu.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Gn.default=Eu;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});const Su=W,Pu={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Su.validateUnion,error:{message:"must match a schema in anyOf"}};Wn.default=Pu;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const $r=F,Tu=I,Ou={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,$r._)`{passingSchemas: ${e.passing}}`},Nu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ou,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const o=r,i=t.let("valid",!1),c=t.let("passing",null),d=t.name("_valid");e.setParams({passing:c}),t.block(u),e.result(i,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((m,$)=>{let P;(0,Tu.alwaysValidSchema)(a,m)?t.var(d,!0):P=e.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},d),$>0&&t.if((0,$r._)`${d} && ${i}`).assign(i,!1).assign(c,(0,$r._)`[${c}, ${$}]`).else(),t.if(d,()=>{t.assign(i,!0),t.assign(c,$),P&&e.mergeEvaluated(P,$r.Name)})})}}};xn.default=Nu;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const Au=I,Ru={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((o,i)=>{if((0,Au.alwaysValidSchema)(n,o))return;const c=e.subschema({keyword:"allOf",schemaProp:i},a);e.ok(a),e.mergeEvaluated(c)})}};Bn.default=Ru;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const Er=F,as=I,ku={message:({params:e})=>(0,Er.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Er._)`{failingKeyword: ${e.ifClause}}`},Iu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:ku,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,as.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Ga(n,"then"),o=Ga(n,"else");if(!a&&!o)return;const i=t.let("valid",!0),c=t.name("_valid");if(d(),e.reset(),a&&o){const m=t.let("ifClause");e.setParams({ifClause:m}),t.if(c,u("then",m),u("else",m))}else a?t.if(c,u("then")):t.if((0,Er.not)(c),u("else"));e.pass(i,()=>e.error(!0));function d(){const m=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(m)}function u(m,$){return()=>{const P=e.subschema({keyword:m},c);t.assign(i,c),e.mergeValidEvaluated(P,i),$?t.assign($,(0,Er._)`${m}`):e.setParams({ifClause:m})}}}};function Ga(e,t){const r=e.schema[t];return r!==void 0&&!(0,as.alwaysValidSchema)(e,r)}Yn.default=Iu;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});const ju=I,Cu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,ju.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Jn.default=Cu;Object.defineProperty(zn,"__esModule",{value:!0});const Mu=At,Du=Un,Lu=Rt,zu=Fn,Uu=Vn,Fu=Ar,Vu=qn,qu=Rr,Hu=Hn,Ku=Kn,Gu=Gn,Wu=Wn,xu=xn,Bu=Bn,Yu=Yn,Ju=Jn;function Xu(e=!1){const t=[Gu.default,Wu.default,xu.default,Bu.default,Yu.default,Ju.default,Vu.default,qu.default,Fu.default,Hu.default,Ku.default];return e?t.push(Du.default,zu.default):t.push(Mu.default,Lu.default),t.push(Uu.default),t}zn.default=Xu;var Xn={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});const ne=F,Zu={message:({schemaCode:e})=>(0,ne.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ne._)`{format: ${e}}`},Qu={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Zu,code(e,t){const{gen:r,data:n,$data:a,schema:o,schemaCode:i,it:c}=e,{opts:d,errSchemaPath:u,schemaEnv:m,self:$}=c;if(!d.validateFormats)return;a?P():E();function P(){const b=r.scopeValue("formats",{ref:$.formats,code:d.code.formats}),S=r.const("fDef",(0,ne._)`${b}[${i}]`),_=r.let("fType"),h=r.let("format");r.if((0,ne._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign(_,(0,ne._)`${S}.type || "string"`).assign(h,(0,ne._)`${S}.validate`),()=>r.assign(_,(0,ne._)`"string"`).assign(h,S)),e.fail$data((0,ne.or)(p(),T()));function p(){return d.strictSchema===!1?ne.nil:(0,ne._)`${i} && !${h}`}function T(){const O=m.$async?(0,ne._)`(${S}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,ne._)`${h}(${n})`,j=(0,ne._)`(typeof ${h} == "function" ? ${O} : ${h}.test(${n}))`;return(0,ne._)`${h} && ${h} !== true && ${_} === ${t} && !${j}`}}function E(){const b=$.formats[o];if(!b){p();return}if(b===!0)return;const[S,_,h]=T(b);S===t&&e.pass(O());function p(){if(d.strictSchema===!1){$.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function T(j){const G=j instanceof RegExp?(0,ne.regexpCode)(j):d.code.formats?(0,ne._)`${d.code.formats}${(0,ne.getProperty)(o)}`:void 0,B=r.scopeValue("formats",{key:o,ref:j,code:G});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,ne._)`${B}.validate`]:["string",j,B]}function O(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!m.$async)throw new Error("async format in sync schema");return(0,ne._)`await ${h}(${n})`}return typeof _=="function"?(0,ne._)`${h}(${n})`:(0,ne._)`${h}.test(${n})`}}}};Zn.default=Qu;Object.defineProperty(Xn,"__esModule",{value:!0});const ed=Zn,td=[ed.default];Xn.default=td;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.contentVocabulary=Tt.metadataVocabulary=void 0;Tt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Tt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Nr,"__esModule",{value:!0});const rd=Sn,nd=Tn,ad=zn,od=Xn,Wa=Tt,sd=[rd.default,nd.default,(0,ad.default)(),od.default,Wa.metadataVocabulary,Wa.contentVocabulary];Nr.default=sd;var Qn={},kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.dynamicAnchor=void 0;const Vr=F,id=ve,xa=pe,cd=Ye,ld={keyword:"$dynamicAnchor",schemaType:"string",code:e=>os(e,e.schema)};function os(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const a=(0,Vr._)`${id.default.dynamicAnchors}${(0,Vr.getProperty)(t)}`,o=n.errSchemaPath==="#"?n.validateName:ud(e);r.if((0,Vr._)`!${a}`,()=>r.assign(a,o))}kt.dynamicAnchor=os;function ud(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:a,baseId:o,localRefs:i,meta:c}=t.root,{schemaId:d}=n.opts,u=new xa.SchemaEnv({schema:r,schemaId:d,root:a,baseId:o,localRefs:i,meta:c});return xa.compileSchema.call(n,u),(0,cd.getValidate)(e,u)}kt.default=ld;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.dynamicRef=void 0;const Ba=F,dd=ve,Ya=Ye,fd={keyword:"$dynamicRef",schemaType:"string",code:e=>ss(e,e.schema)};function ss(e,t){const{gen:r,keyword:n,it:a}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const o=t.slice(1);if(a.allErrors)i();else{const d=r.let("valid",!1);i(d),e.ok(d)}function i(d){if(a.schemaEnv.root.dynamicAnchors[o]){const u=r.let("_v",(0,Ba._)`${dd.default.dynamicAnchors}${(0,Ba.getProperty)(o)}`);r.if(u,c(u,d),c(a.validateName,d))}else c(a.validateName,d)()}function c(d,u){return u?()=>r.block(()=>{(0,Ya.callRef)(e,d),r.let(u,!0)}):()=>(0,Ya.callRef)(e,d)}}It.dynamicRef=ss;It.default=fd;var ea={};Object.defineProperty(ea,"__esModule",{value:!0});const md=kt,pd=I,hd={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,md.dynamicAnchor)(e,""):(0,pd.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};ea.default=hd;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});const yd=It,$d={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,yd.dynamicRef)(e,e.schema)};ta.default=$d;Object.defineProperty(Qn,"__esModule",{value:!0});const gd=kt,_d=It,vd=ea,bd=ta,wd=[gd.default,_d.default,vd.default,bd.default];Qn.default=wd;var ra={},na={};Object.defineProperty(na,"__esModule",{value:!0});const Ja=Ar,Ed={keyword:"dependentRequired",type:"object",schemaType:"object",error:Ja.error,code:e=>(0,Ja.validatePropertyDeps)(e)};na.default=Ed;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});const Sd=Ar,Pd={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,Sd.validateSchemaDeps)(e)};aa.default=Pd;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});const Td=I,Od={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,Td.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};oa.default=Od;Object.defineProperty(ra,"__esModule",{value:!0});const Nd=na,Ad=aa,Rd=oa,kd=[Nd.default,Ad.default,Rd.default];ra.default=kd;var sa={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});const et=F,Xa=I,Id=ve,jd={message:"must NOT have unevaluated properties",params:({params:e})=>(0,et._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},Cd={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:jd,code(e){const{gen:t,schema:r,data:n,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,props:c}=o;c instanceof et.Name?t.if((0,et._)`${c} !== true`,()=>t.forIn("key",n,$=>t.if(u(c,$),()=>d($)))):c!==!0&&t.forIn("key",n,$=>c===void 0?d($):t.if(m(c,$),()=>d($))),o.props=!0,e.ok((0,et._)`${a} === ${Id.default.errors}`);function d($){if(r===!1){e.setParams({unevaluatedProperty:$}),e.error(),i||t.break();return}if(!(0,Xa.alwaysValidSchema)(o,r)){const P=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:$,dataPropType:Xa.Type.Str},P),i||t.if((0,et.not)(P),()=>t.break())}}function u($,P){return(0,et._)`!${$} || !${$}[${P}]`}function m($,P){const E=[];for(const b in $)$[b]===!0&&E.push((0,et._)`${P} !== ${b}`);return(0,et.and)(...E)}}};ia.default=Cd;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});const dt=F,Za=I,Md={message:({params:{len:e}})=>(0,dt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,dt._)`{limit: ${e}}`},Dd={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Md,code(e){const{gen:t,schema:r,data:n,it:a}=e,o=a.items||0;if(o===!0)return;const i=t.const("len",(0,dt._)`${n}.length`);if(r===!1)e.setParams({len:o}),e.fail((0,dt._)`${i} > ${o}`);else if(typeof r=="object"&&!(0,Za.alwaysValidSchema)(a,r)){const d=t.var("valid",(0,dt._)`${i} <= ${o}`);t.if((0,dt.not)(d),()=>c(d,o)),e.ok(d)}a.items=!0;function c(d,u){t.forRange("i",u,i,m=>{e.subschema({keyword:"unevaluatedItems",dataProp:m,dataPropType:Za.Type.Num},d),a.allErrors||t.if((0,dt.not)(d),()=>t.break())})}}};ca.default=Dd;Object.defineProperty(sa,"__esModule",{value:!0});const Ld=ia,zd=ca,Ud=[Ld.default,zd.default];sa.default=Ud;var kr={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DiscrError=void 0;var Qa;(function(e){e.Tag="tag",e.Mapping="mapping"})(Qa||(Ir.DiscrError=Qa={}));Object.defineProperty(kr,"__esModule",{value:!0});const bt=F,tn=Ir,eo=pe,Fd=mt,Vd=I,qd={message:({params:{discrError:e,tagName:t}})=>e===tn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,bt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Hd={keyword:"discriminator",type:"object",schemaType:"object",error:qd,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:o}=e,{oneOf:i}=a;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),u=t.const("tag",(0,bt._)`${r}${(0,bt.getProperty)(c)}`);t.if((0,bt._)`typeof ${u} == "string"`,()=>m(),()=>e.error(!1,{discrError:tn.DiscrError.Tag,tag:u,tagName:c})),e.ok(d);function m(){const E=P();t.if(!1);for(const b in E)t.elseIf((0,bt._)`${u} === ${b}`),t.assign(d,$(E[b]));t.else(),e.error(!1,{discrError:tn.DiscrError.Mapping,tag:u,tagName:c}),t.endIf()}function $(E){const b=t.name("valid"),S=e.subschema({keyword:"oneOf",schemaProp:E},b);return e.mergeEvaluated(S,bt.Name),b}function P(){var E;const b={},S=h(a);let _=!0;for(let O=0;O<i.length;O++){let j=i[O];if(j!=null&&j.$ref&&!(0,Vd.schemaHasRulesButRef)(j,o.self.RULES)){const B=j.$ref;if(j=eo.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,B),j instanceof eo.SchemaEnv&&(j=j.schema),j===void 0)throw new Fd.default(o.opts.uriResolver,o.baseId,B)}const G=(E=j==null?void 0:j.properties)===null||E===void 0?void 0:E[c];if(typeof G!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);_=_&&(S||h(j)),p(G,O)}if(!_)throw new Error(`discriminator: "${c}" must be required`);return b;function h({required:O}){return Array.isArray(O)&&O.includes(c)}function p(O,j){if(O.const)T(O.const,j);else if(O.enum)for(const G of O.enum)T(G,j);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function T(O,j){if(typeof O!="string"||O in b)throw new Error(`discriminator: "${c}" values must be unique strings`);b[O]=j}}}};kr.default=Hd;var la={};const Kd="https://json-schema.org/draft/2019-09/schema",Gd="https://json-schema.org/draft/2019-09/schema",Wd={"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},xd=!0,Bd="Core and Validation specifications meta-schema",Yd=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],Jd=["object","boolean"],Xd={definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}},Zd={$schema:Kd,$id:Gd,$vocabulary:Wd,$recursiveAnchor:xd,title:Bd,allOf:Yd,type:Jd,properties:Xd},Qd="https://json-schema.org/draft/2019-09/schema",ef="https://json-schema.org/draft/2019-09/meta/applicator",tf={"https://json-schema.org/draft/2019-09/vocab/applicator":!0},rf=!0,nf="Applicator vocabulary meta-schema",af=["object","boolean"],of={additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},sf={schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}},cf={$schema:Qd,$id:ef,$vocabulary:tf,$recursiveAnchor:rf,title:nf,type:af,properties:of,$defs:sf},lf="https://json-schema.org/draft/2019-09/schema",uf="https://json-schema.org/draft/2019-09/meta/content",df={"https://json-schema.org/draft/2019-09/vocab/content":!0},ff=!0,mf="Content vocabulary meta-schema",pf=["object","boolean"],hf={contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}},yf={$schema:lf,$id:uf,$vocabulary:df,$recursiveAnchor:ff,title:mf,type:pf,properties:hf},$f="https://json-schema.org/draft/2019-09/schema",gf="https://json-schema.org/draft/2019-09/meta/core",_f={"https://json-schema.org/draft/2019-09/vocab/core":!0},vf=!0,bf="Core vocabulary meta-schema",wf=["object","boolean"],Ef={$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}},Sf={$schema:$f,$id:gf,$vocabulary:_f,$recursiveAnchor:vf,title:bf,type:wf,properties:Ef},Pf="https://json-schema.org/draft/2019-09/schema",Tf="https://json-schema.org/draft/2019-09/meta/format",Of={"https://json-schema.org/draft/2019-09/vocab/format":!0},Nf=!0,Af="Format vocabulary meta-schema",Rf=["object","boolean"],kf={format:{type:"string"}},If={$schema:Pf,$id:Tf,$vocabulary:Of,$recursiveAnchor:Nf,title:Af,type:Rf,properties:kf},jf="https://json-schema.org/draft/2019-09/schema",Cf="https://json-schema.org/draft/2019-09/meta/meta-data",Mf={"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},Df=!0,Lf="Meta-data vocabulary meta-schema",zf=["object","boolean"],Uf={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},Ff={$schema:jf,$id:Cf,$vocabulary:Mf,$recursiveAnchor:Df,title:Lf,type:zf,properties:Uf},Vf="https://json-schema.org/draft/2019-09/schema",qf="https://json-schema.org/draft/2019-09/meta/validation",Hf={"https://json-schema.org/draft/2019-09/vocab/validation":!0},Kf=!0,Gf="Validation vocabulary meta-schema",Wf=["object","boolean"],xf={multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},Bf={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Yf={$schema:Vf,$id:qf,$vocabulary:Hf,$recursiveAnchor:Kf,title:Gf,type:Wf,properties:xf,$defs:Bf};Object.defineProperty(la,"__esModule",{value:!0});const Jf=Zd,Xf=cf,Zf=yf,Qf=Sf,em=If,tm=Ff,rm=Yf,nm=["/properties"];function am(e){return[Jf,Xf,Zf,Qf,t(this,em),tm,t(this,rm)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,nm):n}}la.default=am;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=ln,n=Nr,a=Qn,o=ra,i=sa,c=kr,d=la,u="https://json-schema.org/draft/2019-09/schema";class m extends r.default{constructor(_={}){super({..._,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(a.default),n.default.forEach(_=>this.addVocabulary(_)),this.addVocabulary(o.default),this.addVocabulary(i.default),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:_,meta:h}=this.opts;h&&(d.default.call(this,_),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=m,e.exports=t=m,e.exports.Ajv2019=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var $=Se;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var P=F;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return P.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return P.CodeGen}});var E=Nt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return E.default}});var b=mt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return b.default}})})(xr,xr.exports);var om=xr.exports;const is=cn(om);var rn={exports:{}},cs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,V){return{validate:C,compare:V}}e.fullFormats={date:t(o,i),time:t(d(!0),u),"date-time":t(P(!0),E),"iso-time":t(d(),m),"iso-date-time":t(P(),b),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:be,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:T,int32:{type:"number",validate:G},int64:{type:"number",validate:B},float:{type:"number",validate:te},double:{type:"number",validate:te},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,E),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,b),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(C){const V=n.exec(C);if(!V)return!1;const Y=+V[1],H=+V[2],re=+V[3];return H>=1&&H<=12&&re>=1&&re<=(H===2&&r(Y)?29:a[H])}function i(C,V){if(C&&V)return C>V?1:C<V?-1:0}const c=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function d(C){return function(Y){const H=c.exec(Y);if(!H)return!1;const re=+H[1],$e=+H[2],we=+H[3],Me=H[4],Ee=H[5]==="-"?-1:1,R=+(H[6]||0),g=+(H[7]||0);if(R>23||g>59||C&&!Me)return!1;if(re<=23&&$e<=59&&we<60)return!0;const v=$e-g*Ee,f=re-R*Ee-(v<0?1:0);return(f===23||f===-1)&&(v===59||v===-1)&&we<61}}function u(C,V){if(!(C&&V))return;const Y=new Date("2020-01-01T"+C).valueOf(),H=new Date("2020-01-01T"+V).valueOf();if(Y&&H)return Y-H}function m(C,V){if(!(C&&V))return;const Y=c.exec(C),H=c.exec(V);if(Y&&H)return C=Y[1]+Y[2]+Y[3],V=H[1]+H[2]+H[3],C>V?1:C<V?-1:0}const $=/t|\s/i;function P(C){const V=d(C);return function(H){const re=H.split($);return re.length===2&&o(re[0])&&V(re[1])}}function E(C,V){if(!(C&&V))return;const Y=new Date(C).valueOf(),H=new Date(V).valueOf();if(Y&&H)return Y-H}function b(C,V){if(!(C&&V))return;const[Y,H]=C.split($),[re,$e]=V.split($),we=i(Y,re);if(we!==void 0)return we||u(H,$e)}const S=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(C){return S.test(C)&&_.test(C)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function T(C){return p.lastIndex=0,p.test(C)}const O=-(2**31),j=2**31-1;function G(C){return Number.isInteger(C)&&C<=j&&C>=O}function B(C){return Number.isInteger(C)}function te(){return!0}const ye=/[^\\]\\Z/;function be(C){if(ye.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(cs);var ls={},nn={exports:{}};const sm="http://json-schema.org/draft-07/schema#",im="http://json-schema.org/draft-07/schema#",cm="Core schema meta-schema",lm={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},um=["object","boolean"],dm={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},fm={$schema:sm,$id:im,title:cm,definitions:lm,type:um,properties:dm,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=ln,n=Nr,a=kr,o=fm,i=["/properties"],c="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(o,i):o;this.addMetaSchema(b,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=d,e.exports=t=d,e.exports.Ajv=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var u=Se;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var m=F;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var $=Nt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var P=mt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return P.default}})})(nn,nn.exports);var us=nn.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=us,r=F,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:c,schemaCode:d})=>(0,r.str)`should be ${a[c].okStr} ${d}`,params:({keyword:c,schemaCode:d})=>(0,r._)`{comparison: ${a[c].okStr}, limit: ${d}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:o,code(c){const{gen:d,data:u,schemaCode:m,keyword:$,it:P}=c,{opts:E,self:b}=P;if(!E.validateFormats)return;const S=new t.KeywordCxt(P,b.RULES.all.format.definition,"format");S.$data?_():h();function _(){const T=d.scopeValue("formats",{ref:b.formats,code:E.code.formats}),O=d.const("fmt",(0,r._)`${T}[${S.schemaCode}]`);c.fail$data((0,r.or)((0,r._)`typeof ${O} != "object"`,(0,r._)`${O} instanceof RegExp`,(0,r._)`typeof ${O}.compare != "function"`,p(O)))}function h(){const T=S.schema,O=b.formats[T];if(!O||O===!0)return;if(typeof O!="object"||O instanceof RegExp||typeof O.compare!="function")throw new Error(`"${$}": format "${T}" does not define "compare" function`);const j=d.scopeValue("formats",{key:T,ref:O,code:E.code.formats?(0,r._)`${E.code.formats}${(0,r.getProperty)(T)}`:void 0});c.fail$data(p(j))}function p(T){return(0,r._)`${T}.compare(${u}, ${m}) ${a[$].fail} 0`}},dependencies:["format"]};const i=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=i})(ls);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=cs,n=ls,a=F,o=new a.Name("fullFormats"),i=new a.Name("fastFormats"),c=(u,m={keywords:!0})=>{if(Array.isArray(m))return d(u,m,r.fullFormats,o),u;const[$,P]=m.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,o],E=m.formats||r.formatNames;return d(u,E,$,P),m.keywords&&(0,n.default)(u),u};c.get=(u,m="full")=>{const P=(m==="fast"?r.fastFormats:r.fullFormats)[u];if(!P)throw new Error(`Unknown format "${u}"`);return P};function d(u,m,$,P){var E,b;(E=(b=u.opts.code).formats)!==null&&E!==void 0||(b.formats=(0,a._)`require("ajv-formats/dist/formats").${P}`);for(const S of m)u.addFormat(S,$[S])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c})(rn,rn.exports);var mm=rn.exports;const pm=cn(mm);var an={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=us,n=F,a=Pt,o=Se,i=Ot,c=ve,d="errorMessage",u=new r.Name("emUsed"),m={required:"missingProperty",dependencies:"property",dependentRequired:"property"},$=/\$\{[^}]+\}/,P=/\$\{([^}]+)\}/g,E=/^""\s*\+\s*|\s*\+\s*""$/g;function b(_){return{keyword:d,schemaType:["string","object"],post:!0,code(h){const{gen:p,data:T,schema:O,schemaValue:j,it:G}=h;if(G.createErrors===!1)return;const B=O,te=n.strConcat(c.default.instancePath,G.errorPath);p.if(r._`${c.default.errors} > 0`,()=>{if(typeof B=="object"){const[f,s]=be(B);s&&C(s),f&&V(f),Y(ye(B))}const v=typeof B=="string"?B:B._;v&&H(v),_.keepErrors||re()});function ye({properties:v,items:f}){const s={};if(v){s.props={};for(const l in v)s.props[l]=[]}if(f){s.items={};for(let l=0;l<f.length;l++)s.items[l]=[]}return s}function be(v){let f,s;for(const l in v){if(l==="properties"||l==="items")continue;const w=v[l];if(typeof w=="object"){f||(f={});const k=f[l]={};for(const N in w)k[N]=[]}else s||(s={}),s[l]=[]}return[f,s]}function C(v){const f=p.const("emErrors",r.stringify(v)),s=p.const("templates",Ee(v,O));p.forOf("err",c.default.vErrors,N=>p.if($e(N,f),()=>p.code(r._`${f}[${N}.keyword].push(${N})`).assign(r._`${N}.${u}`,!0)));const{singleError:l}=_;if(l){const N=p.let("message",r._`""`),M=p.let("paramsErrors",r._`[]`);w(q=>{p.if(N,()=>p.code(r._`${N} += ${typeof l=="string"?l:";"}`)),p.code(r._`${N} += ${k(q)}`),p.assign(M,r._`${M}.concat(${f}[${q}])`)}),i.reportError(h,{message:N,params:r._`{errors: ${M}}`})}else w(N=>i.reportError(h,{message:k(N),params:r._`{errors: ${f}[${N}]}`}));function w(N){p.forIn("key",f,M=>p.if(r._`${f}[${M}].length`,()=>N(M)))}function k(N){return r._`${N} in ${s} ? ${s}[${N}]() : ${j}[${N}]`}}function V(v){const f=p.const("emErrors",r.stringify(v)),s=[];for(const M in v)s.push([M,Ee(v[M],O[M])]);const l=p.const("templates",p.object(...s)),w=p.scopeValue("obj",{ref:m,code:r.stringify(m)}),k=p.let("emPropParams"),N=p.let("emParamsErrors");p.forOf("err",c.default.vErrors,M=>p.if($e(M,f),()=>{p.assign(k,r._`${w}[${M}.keyword]`),p.assign(N,r._`${f}[${M}.keyword][${M}.params[${k}]]`),p.if(N,()=>p.code(r._`${N}.push(${M})`).assign(r._`${M}.${u}`,!0))})),p.forIn("key",f,M=>p.forIn("keyProp",r._`${f}[${M}]`,q=>{p.assign(N,r._`${f}[${M}][${q}]`),p.if(r._`${N}.length`,()=>{const J=p.const("tmpl",r._`${l}[${M}] && ${l}[${M}][${q}]`);i.reportError(h,{message:r._`${J} ? ${J}() : ${j}[${M}][${q}]`,params:r._`{errors: ${N}}`})})}))}function Y(v){const{props:f,items:s}=v;if(!f&&!s)return;const l=r._`typeof ${T} == "object"`,w=r._`Array.isArray(${T})`,k=p.let("emErrors");let N,M;const q=p.let("templates");f&&s?(N=p.let("emChildKwd"),p.if(l),p.if(w,()=>{J(s,O.items),p.assign(N,r.str`items`)},()=>{J(f,O.properties),p.assign(N,r.str`properties`)}),M=r._`[${N}]`):s?(p.if(w),J(s,O.items),M=r._`.items`):f&&(p.if(n.and(l,n.not(w))),J(f,O.properties),M=r._`.properties`),p.forOf("err",c.default.vErrors,X=>we(X,k,Ae=>p.code(r._`${k}[${Ae}].push(${X})`).assign(r._`${X}.${u}`,!0))),p.forIn("key",k,X=>p.if(r._`${k}[${X}].length`,()=>{i.reportError(h,{message:r._`${X} in ${q} ? ${q}[${X}]() : ${j}${M}[${X}]`,params:r._`{errors: ${k}[${X}]}`}),p.assign(r._`${c.default.vErrors}[${c.default.errors}-1].instancePath`,r._`${te} + "/" + ${X}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),p.endIf();function J(X,Ae){p.assign(k,r.stringify(X)),p.assign(q,Ee(X,Ae))}}function H(v){const f=p.const("emErrs",r._`[]`);p.forOf("err",c.default.vErrors,s=>p.if(Me(s),()=>p.code(r._`${f}.push(${s})`).assign(r._`${s}.${u}`,!0))),p.if(r._`${f}.length`,()=>i.reportError(h,{message:R(v),params:r._`{errors: ${f}}`}))}function re(){const v=p.const("emErrs",r._`[]`);p.forOf("err",c.default.vErrors,f=>p.if(r._`!${f}.${u}`,()=>p.code(r._`${v}.push(${f})`))),p.assign(c.default.vErrors,v).assign(c.default.errors,r._`${v}.length`)}function $e(v,f){return n.and(r._`${v}.keyword !== ${d}`,r._`!${v}.${u}`,r._`${v}.instancePath === ${te}`,r._`${v}.keyword in ${f}`,r._`${v}.schemaPath.indexOf(${G.errSchemaPath}) === 0`,r._`/^\\/[^\\/]*$/.test(${v}.schemaPath.slice(${G.errSchemaPath.length}))`)}function we(v,f,s){p.if(n.and(r._`${v}.keyword !== ${d}`,r._`!${v}.${u}`,r._`${v}.instancePath.indexOf(${te}) === 0`),()=>{const l=p.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:r._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),w=p.const("emMatches",r._`${l}.exec(${v}.instancePath.slice(${te}.length))`),k=p.const("emChild",r._`${w} && ${w}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);p.if(r._`${k} !== undefined && ${k} in ${f}`,()=>s(k))})}function Me(v){return n.and(r._`${v}.keyword !== ${d}`,r._`!${v}.${u}`,n.or(r._`${v}.instancePath === ${te}`,n.and(r._`${v}.instancePath.indexOf(${te}) === 0`,r._`${v}.instancePath[${te}.length] === "/"`)),r._`${v}.schemaPath.indexOf(${G.errSchemaPath}) === 0`,r._`${v}.schemaPath[${G.errSchemaPath}.length] === "/"`)}function Ee(v,f){const s=[];for(const l in v){const w=f[l];$.test(w)&&s.push([l,g(w)])}return p.object(...s)}function R(v){return $.test(v)?new a._Code(a.safeStringify(v).replace(P,(f,s)=>`" + JSON.stringify(${o.getData(s,G)}) + "`).replace(E,"")):r.stringify(v)}function g(v){return r._`function(){return ${R(v)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const S=(_,h={})=>{if(!_.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(_.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return _.addKeyword(b(h))};t.default=S,e.exports=S,e.exports.default=S})(an,an.exports);var hm=an.exports;const ym=cn(hm);/*! @license DOMPurify 3.2.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.2/LICENSE */const{entries:ds,setPrototypeOf:to,isFrozen:$m,getPrototypeOf:gm,getOwnPropertyDescriptor:_m}=Object;let{freeze:he,seal:Ne,create:fs}=Object,{apply:on,construct:sn}=typeof Reflect<"u"&&Reflect;he||(he=function(t){return t});Ne||(Ne=function(t){return t});on||(on=function(t,r,n){return t.apply(r,n)});sn||(sn=function(t,r){return new t(...r)});const dr=Pe(Array.prototype.forEach),ro=Pe(Array.prototype.pop),Vt=Pe(Array.prototype.push),gr=Pe(String.prototype.toLowerCase),qr=Pe(String.prototype.toString),no=Pe(String.prototype.match),qt=Pe(String.prototype.replace),vm=Pe(String.prototype.indexOf),bm=Pe(String.prototype.trim),je=Pe(Object.prototype.hasOwnProperty),fe=Pe(RegExp.prototype.test),Ht=wm(TypeError);function Pe(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return on(e,t,n)}}function wm(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return sn(e,r)}}function x(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr;to&&to(e,null);let n=t.length;for(;n--;){let a=t[n];if(typeof a=="string"){const o=r(a);o!==a&&($m(t)||(t[n]=o),a=o)}e[a]=!0}return e}function Em(e){for(let t=0;t<e.length;t++)je(e,t)||(e[t]=null);return e}function it(e){const t=fs(null);for(const[r,n]of ds(e))je(e,r)&&(Array.isArray(n)?t[r]=Em(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=it(n):t[r]=n);return t}function Kt(e,t){for(;e!==null;){const n=_m(e,t);if(n){if(n.get)return Pe(n.get);if(typeof n.value=="function")return Pe(n.value)}e=gm(e)}function r(){return null}return r}const ao=he(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hr=he(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kr=he(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Sm=he(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gr=he(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Pm=he(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oo=he(["#text"]),so=he(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wr=he(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),io=he(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fr=he(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tm=Ne(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Om=Ne(/<%[\w\W]*|[\w\W]*%>/gm),Nm=Ne(/\${[\w\W]*}/gm),Am=Ne(/^data-[\-\w.\u00B7-\uFFFF]/),Rm=Ne(/^aria-[\-\w]+$/),ms=Ne(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),km=Ne(/^(?:\w+script|data):/i),Im=Ne(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ps=Ne(/^html$/i),jm=Ne(/^[a-z][.\w]*(-[.\w]+)+$/i);var co=Object.freeze({__proto__:null,ARIA_ATTR:Rm,ATTR_WHITESPACE:Im,CUSTOM_ELEMENT:jm,DATA_ATTR:Am,DOCTYPE_NAME:ps,ERB_EXPR:Om,IS_ALLOWED_URI:ms,IS_SCRIPT_OR_DATA:km,MUSTACHE_EXPR:Tm,TMPLIT_EXPR:Nm});const Gt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Cm=function(){return typeof window>"u"?null:window},Mm=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},lo=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function hs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cm();const t=z=>hs(z);if(t.version="3.2.2",t.removed=[],!e||!e.document||e.document.nodeType!==Gt.document)return t.isSupported=!1,t;let{document:r}=e;const n=r,a=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:c,Element:d,NodeFilter:u,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:$,DOMParser:P,trustedTypes:E}=e,b=d.prototype,S=Kt(b,"cloneNode"),_=Kt(b,"remove"),h=Kt(b,"nextSibling"),p=Kt(b,"childNodes"),T=Kt(b,"parentNode");if(typeof i=="function"){const z=r.createElement("template");z.content&&z.content.ownerDocument&&(r=z.content.ownerDocument)}let O,j="";const{implementation:G,createNodeIterator:B,createDocumentFragment:te,getElementsByTagName:ye}=r,{importNode:be}=n;let C=lo();t.isSupported=typeof ds=="function"&&typeof T=="function"&&G&&G.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:V,ERB_EXPR:Y,TMPLIT_EXPR:H,DATA_ATTR:re,ARIA_ATTR:$e,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:Me,CUSTOM_ELEMENT:Ee}=co;let{IS_ALLOWED_URI:R}=co,g=null;const v=x({},[...ao,...Hr,...Kr,...Gr,...oo]);let f=null;const s=x({},[...so,...Wr,...io,...fr]);let l=Object.seal(fs(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),w=null,k=null,N=!0,M=!0,q=!1,J=!0,X=!1,Ae=!0,Re=!1,nt=!1,at=!1,De=!1,Je=!1,Xe=!1,pt=!0,ht=!1;const jt="user-content-";let ot=!0,He=!1,Le={},Te=null;const yt=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ct=null;const Mt=x({},["audio","video","img","source","image","track"]);let Dt=null;const ua=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),er="http://www.w3.org/1998/Math/MathML",tr="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml";let $t=Ke,jr=!1,Cr=null;const ws=x({},[er,tr,Ke],qr);let rr=x({},["mi","mo","mn","ms","mtext"]),nr=x({},["annotation-xml"]);const Es=x({},["title","style","font","a","script"]);let Lt=null;const Ss=["application/xhtml+xml","text/html"],Ps="text/html";let oe=null,gt=null;const Ts=r.createElement("form"),da=function(y){return y instanceof RegExp||y instanceof Function},Mr=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gt&&gt===y)){if((!y||typeof y!="object")&&(y={}),y=it(y),Lt=Ss.indexOf(y.PARSER_MEDIA_TYPE)===-1?Ps:y.PARSER_MEDIA_TYPE,oe=Lt==="application/xhtml+xml"?qr:gr,g=je(y,"ALLOWED_TAGS")?x({},y.ALLOWED_TAGS,oe):v,f=je(y,"ALLOWED_ATTR")?x({},y.ALLOWED_ATTR,oe):s,Cr=je(y,"ALLOWED_NAMESPACES")?x({},y.ALLOWED_NAMESPACES,qr):ws,Dt=je(y,"ADD_URI_SAFE_ATTR")?x(it(ua),y.ADD_URI_SAFE_ATTR,oe):ua,Ct=je(y,"ADD_DATA_URI_TAGS")?x(it(Mt),y.ADD_DATA_URI_TAGS,oe):Mt,Te=je(y,"FORBID_CONTENTS")?x({},y.FORBID_CONTENTS,oe):yt,w=je(y,"FORBID_TAGS")?x({},y.FORBID_TAGS,oe):{},k=je(y,"FORBID_ATTR")?x({},y.FORBID_ATTR,oe):{},Le=je(y,"USE_PROFILES")?y.USE_PROFILES:!1,N=y.ALLOW_ARIA_ATTR!==!1,M=y.ALLOW_DATA_ATTR!==!1,q=y.ALLOW_UNKNOWN_PROTOCOLS||!1,J=y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,X=y.SAFE_FOR_TEMPLATES||!1,Ae=y.SAFE_FOR_XML!==!1,Re=y.WHOLE_DOCUMENT||!1,De=y.RETURN_DOM||!1,Je=y.RETURN_DOM_FRAGMENT||!1,Xe=y.RETURN_TRUSTED_TYPE||!1,at=y.FORCE_BODY||!1,pt=y.SANITIZE_DOM!==!1,ht=y.SANITIZE_NAMED_PROPS||!1,ot=y.KEEP_CONTENT!==!1,He=y.IN_PLACE||!1,R=y.ALLOWED_URI_REGEXP||ms,$t=y.NAMESPACE||Ke,rr=y.MATHML_TEXT_INTEGRATION_POINTS||rr,nr=y.HTML_INTEGRATION_POINTS||nr,l=y.CUSTOM_ELEMENT_HANDLING||{},y.CUSTOM_ELEMENT_HANDLING&&da(y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(l.tagNameCheck=y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),y.CUSTOM_ELEMENT_HANDLING&&da(y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(l.attributeNameCheck=y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),y.CUSTOM_ELEMENT_HANDLING&&typeof y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(l.allowCustomizedBuiltInElements=y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(M=!1),Je&&(De=!0),Le&&(g=x({},oo),f=[],Le.html===!0&&(x(g,ao),x(f,so)),Le.svg===!0&&(x(g,Hr),x(f,Wr),x(f,fr)),Le.svgFilters===!0&&(x(g,Kr),x(f,Wr),x(f,fr)),Le.mathMl===!0&&(x(g,Gr),x(f,io),x(f,fr))),y.ADD_TAGS&&(g===v&&(g=it(g)),x(g,y.ADD_TAGS,oe)),y.ADD_ATTR&&(f===s&&(f=it(f)),x(f,y.ADD_ATTR,oe)),y.ADD_URI_SAFE_ATTR&&x(Dt,y.ADD_URI_SAFE_ATTR,oe),y.FORBID_CONTENTS&&(Te===yt&&(Te=it(Te)),x(Te,y.FORBID_CONTENTS,oe)),ot&&(g["#text"]=!0),Re&&x(g,["html","head","body"]),g.table&&(x(g,["tbody"]),delete w.tbody),y.TRUSTED_TYPES_POLICY){if(typeof y.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ht('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ht('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=y.TRUSTED_TYPES_POLICY,j=O.createHTML("")}else O===void 0&&(O=Mm(E,a)),O!==null&&typeof j=="string"&&(j=O.createHTML(""));he&&he(y),gt=y}},fa=x({},[...Hr,...Kr,...Sm]),ma=x({},[...Gr,...Pm]),Os=function(y){let A=T(y);(!A||!A.tagName)&&(A={namespaceURI:$t,tagName:"template"});const D=gr(y.tagName),ee=gr(A.tagName);return Cr[y.namespaceURI]?y.namespaceURI===tr?A.namespaceURI===Ke?D==="svg":A.namespaceURI===er?D==="svg"&&(ee==="annotation-xml"||rr[ee]):!!fa[D]:y.namespaceURI===er?A.namespaceURI===Ke?D==="math":A.namespaceURI===tr?D==="math"&&nr[ee]:!!ma[D]:y.namespaceURI===Ke?A.namespaceURI===tr&&!nr[ee]||A.namespaceURI===er&&!rr[ee]?!1:!ma[D]&&(Es[D]||!fa[D]):!!(Lt==="application/xhtml+xml"&&Cr[y.namespaceURI]):!1},ze=function(y){Vt(t.removed,{element:y});try{T(y).removeChild(y)}catch{_(y)}},ar=function(y,A){try{Vt(t.removed,{attribute:A.getAttributeNode(y),from:A})}catch{Vt(t.removed,{attribute:null,from:A})}if(A.removeAttribute(y),y==="is")if(De||Je)try{ze(A)}catch{}else try{A.setAttribute(y,"")}catch{}},pa=function(y){let A=null,D=null;if(at)y="<remove></remove>"+y;else{const se=no(y,/^[\r\n\t ]+/);D=se&&se[0]}Lt==="application/xhtml+xml"&&$t===Ke&&(y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+y+"</body></html>");const ee=O?O.createHTML(y):y;if($t===Ke)try{A=new P().parseFromString(ee,Lt)}catch{}if(!A||!A.documentElement){A=G.createDocument($t,"template",null);try{A.documentElement.innerHTML=jr?j:ee}catch{}}const le=A.body||A.documentElement;return y&&D&&le.insertBefore(r.createTextNode(D),le.childNodes[0]||null),$t===Ke?ye.call(A,Re?"html":"body")[0]:Re?A.documentElement:le},ha=function(y){return B.call(y.ownerDocument||y,y,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ya=function(y){return y instanceof $&&(typeof y.nodeName!="string"||typeof y.textContent!="string"||typeof y.removeChild!="function"||!(y.attributes instanceof m)||typeof y.removeAttribute!="function"||typeof y.setAttribute!="function"||typeof y.namespaceURI!="string"||typeof y.insertBefore!="function"||typeof y.hasChildNodes!="function")},$a=function(y){return typeof c=="function"&&y instanceof c};function Ge(z,y,A){dr(z,D=>{D.call(t,y,A,gt)})}const ga=function(y){let A=null;if(Ge(C.beforeSanitizeElements,y,null),ya(y))return ze(y),!0;const D=oe(y.nodeName);if(Ge(C.uponSanitizeElement,y,{tagName:D,allowedTags:g}),y.hasChildNodes()&&!$a(y.firstElementChild)&&fe(/<[/\w]/g,y.innerHTML)&&fe(/<[/\w]/g,y.textContent)||y.nodeType===Gt.progressingInstruction||Ae&&y.nodeType===Gt.comment&&fe(/<[/\w]/g,y.data))return ze(y),!0;if(!g[D]||w[D]){if(!w[D]&&va(D)&&(l.tagNameCheck instanceof RegExp&&fe(l.tagNameCheck,D)||l.tagNameCheck instanceof Function&&l.tagNameCheck(D)))return!1;if(ot&&!Te[D]){const ee=T(y)||y.parentNode,le=p(y)||y.childNodes;if(le&&ee){const se=le.length;for(let ge=se-1;ge>=0;--ge){const Ue=S(le[ge],!0);Ue.__removalCount=(y.__removalCount||0)+1,ee.insertBefore(Ue,h(y))}}}return ze(y),!0}return y instanceof d&&!Os(y)||(D==="noscript"||D==="noembed"||D==="noframes")&&fe(/<\/no(script|embed|frames)/i,y.innerHTML)?(ze(y),!0):(X&&y.nodeType===Gt.text&&(A=y.textContent,dr([V,Y,H],ee=>{A=qt(A,ee," ")}),y.textContent!==A&&(Vt(t.removed,{element:y.cloneNode()}),y.textContent=A)),Ge(C.afterSanitizeElements,y,null),!1)},_a=function(y,A,D){if(pt&&(A==="id"||A==="name")&&(D in r||D in Ts))return!1;if(!(M&&!k[A]&&fe(re,A))){if(!(N&&fe($e,A))){if(!f[A]||k[A]){if(!(va(y)&&(l.tagNameCheck instanceof RegExp&&fe(l.tagNameCheck,y)||l.tagNameCheck instanceof Function&&l.tagNameCheck(y))&&(l.attributeNameCheck instanceof RegExp&&fe(l.attributeNameCheck,A)||l.attributeNameCheck instanceof Function&&l.attributeNameCheck(A))||A==="is"&&l.allowCustomizedBuiltInElements&&(l.tagNameCheck instanceof RegExp&&fe(l.tagNameCheck,D)||l.tagNameCheck instanceof Function&&l.tagNameCheck(D))))return!1}else if(!Dt[A]){if(!fe(R,qt(D,Me,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&y!=="script"&&vm(D,"data:")===0&&Ct[y])){if(!(q&&!fe(we,qt(D,Me,"")))){if(D)return!1}}}}}}return!0},va=function(y){return y!=="annotation-xml"&&no(y,Ee)},ba=function(y){Ge(C.beforeSanitizeAttributes,y,null);const{attributes:A}=y;if(!A)return;const D={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:f,forceKeepAttr:void 0};let ee=A.length;for(;ee--;){const le=A[ee],{name:se,namespaceURI:ge,value:Ue}=le,zt=oe(se);let de=se==="value"?Ue:bm(Ue);if(D.attrName=zt,D.attrValue=de,D.keepAttr=!0,D.forceKeepAttr=void 0,Ge(C.uponSanitizeAttribute,y,D),de=D.attrValue,ht&&(zt==="id"||zt==="name")&&(ar(se,y),de=jt+de),Ae&&fe(/((--!?|])>)|<\/(style|title)/i,de)){ar(se,y);continue}if(D.forceKeepAttr||(ar(se,y),!D.keepAttr))continue;if(!J&&fe(/\/>/i,de)){ar(se,y);continue}X&&dr([V,Y,H],Ea=>{de=qt(de,Ea," ")});const wa=oe(y.nodeName);if(_a(wa,zt,de)){if(O&&typeof E=="object"&&typeof E.getAttributeType=="function"&&!ge)switch(E.getAttributeType(wa,zt)){case"TrustedHTML":{de=O.createHTML(de);break}case"TrustedScriptURL":{de=O.createScriptURL(de);break}}try{ge?y.setAttributeNS(ge,se,de):y.setAttribute(se,de),ya(y)?ze(y):ro(t.removed)}catch{}}}Ge(C.afterSanitizeAttributes,y,null)},Ns=function z(y){let A=null;const D=ha(y);for(Ge(C.beforeSanitizeShadowDOM,y,null);A=D.nextNode();)Ge(C.uponSanitizeShadowNode,A,null),!ga(A)&&(A.content instanceof o&&z(A.content),ba(A));Ge(C.afterSanitizeShadowDOM,y,null)};return t.sanitize=function(z){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=null,D=null,ee=null,le=null;if(jr=!z,jr&&(z="<!-->"),typeof z!="string"&&!$a(z))if(typeof z.toString=="function"){if(z=z.toString(),typeof z!="string")throw Ht("dirty is not a string, aborting")}else throw Ht("toString is not a function");if(!t.isSupported)return z;if(nt||Mr(y),t.removed=[],typeof z=="string"&&(He=!1),He){if(z.nodeName){const Ue=oe(z.nodeName);if(!g[Ue]||w[Ue])throw Ht("root node is forbidden and cannot be sanitized in-place")}}else if(z instanceof c)A=pa("<!---->"),D=A.ownerDocument.importNode(z,!0),D.nodeType===Gt.element&&D.nodeName==="BODY"||D.nodeName==="HTML"?A=D:A.appendChild(D);else{if(!De&&!X&&!Re&&z.indexOf("<")===-1)return O&&Xe?O.createHTML(z):z;if(A=pa(z),!A)return De?null:Xe?j:""}A&&at&&ze(A.firstChild);const se=ha(He?z:A);for(;ee=se.nextNode();)ga(ee)||(ee.content instanceof o&&Ns(ee.content),ba(ee));if(He)return z;if(De){if(Je)for(le=te.call(A.ownerDocument);A.firstChild;)le.appendChild(A.firstChild);else le=A;return(f.shadowroot||f.shadowrootmode)&&(le=be.call(n,le,!0)),le}let ge=Re?A.outerHTML:A.innerHTML;return Re&&g["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&fe(ps,A.ownerDocument.doctype.name)&&(ge="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+ge),X&&dr([V,Y,H],Ue=>{ge=qt(ge,Ue," ")}),O&&Xe?O.createHTML(ge):ge},t.setConfig=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mr(z),nt=!0},t.clearConfig=function(){gt=null,nt=!1},t.isValidAttribute=function(z,y,A){gt||Mr({});const D=oe(z),ee=oe(y);return _a(D,ee,A)},t.addHook=function(z,y){typeof y=="function"&&Vt(C[z],y)},t.removeHook=function(z){return ro(C[z])},t.removeHooks=function(z){C[z]=[]},t.removeAllHooks=function(){C=lo()},t}var Dm=hs();const ys="https://bpc.virtimo.net/forms/4.1.0/schema",$s="https://json-schema.org/draft/2019-09/schema",gs="object",_s=["metaData","configuration","components"],vs={metaData:{description:"Meta information with no impact to the form itself",type:"object",required:["id","version"],properties:{id:{description:"ID of the form",type:["number","string"]},name:{description:"Name of the form",type:"string"},version:{description:"Version",type:"number"}}},configuration:{description:"General form configuration",type:"object",properties:{validationUrl:{description:"URL for server side validation",type:"string"},submitUrl:{description:"URL for form submit",type:"string"},defaultLanguage:{description:"Default language for the form",type:"string"},validateOnChange:{description:"Trigger the validation on every change of the value",type:"boolean"},validateOnBlur:{description:"Trigger the validation when the focus between fields changes",type:"boolean"}}},components:{description:"UI components for the form",type:"array",minItems:1,items:{$ref:"#/definitions/component"}},dataSchema:{description:"Optional JSON Schema for client side data validation",type:"object",$ref:"https://json-schema.org/draft/2019-09/schema"},state:{description:"Optional object which defines the initial/current state of the form",type:"object"}},bs={component:{type:"object",properties:{type:{type:"string",enum:["button","checkbox","checkboxgroup","container","datefield","fieldset","html","numberfield","radiogroup","textarea","textfield","table","combobox","image","filefield"]},components:{type:"array",items:{$ref:"#/definitions/component"}},readOnly:{description:"With readOnly true the content of the component is not editable for the user.",type:["string","boolean"]},minWidth:{description:"The minimum width of this Component; must be a valid CSS length value, e.g: 300, 100px, 30%, etc. If set to auto, it will set the width to null meaning it will have its own natural size.",type:["string","number"]},minHeight:{description:"The minimum height of this Component; must be a valid CSS length value, e.g: 300, 100px, 30%, etc. If set to auto, it will set the width to null meaning it will have its own natural size.",type:["string","number"]},maxWidth:{description:"The maximum width of this Component; must be a valid CSS length value, e.g: 300, 100px, 30%, etc. If set to auto, it will set the width to null meaning it will have its own natural size. ",type:["string","number"]},maxHeight:{description:"The maximum height of this Component; must be a valid CSS length value, e.g: 300, 100px, 30%, etc. If set to auto, it will set the width to null meaning it will have its own natural size. ",type:["string","number"]},height:{description:"The height of this Component; must be a valid CSS length value, e.g: 300, 100px, 30%, etc. By default, if this is not explicitly set, this Component's element will simply have its own natural size. If set to auto, it will set the width to null meaning it will have its own natural size.",type:["string","number"]},width:{description:"The width of this Component; must be a valid CSS length value, e.g: 300, 100px, 30%, etc. By default, if this is not explicitly set, this Component's element will simply have its own natural size. If set to auto, it will set the width to null meaning it will have its own natural size.",type:["string","number"]},flex:{description:"Flexible sizing of this component",type:["string","number","object"]},label:{$ref:"#/definitions/optionalMultiLanguageText"},id:{description:"Unique identifier in the form"}},required:["type"],if:{properties:{type:{const:"combobox"}}},then:{$ref:"#/definitions/combobox"},else:{if:{properties:{type:{const:"image"}}},then:{$ref:"#/definitions/image"}}},combobox:{type:"object",properties:{options:{type:["array","string"],items:{type:"object",properties:{label:{$ref:"#/definitions/optionalMultiLanguageText"}},required:["value","label"]}}},required:["options"]},image:{type:"object",dependentRequired:{encodedData:["mimeType"]},properties:{src:{type:"string"},encodedData:{type:"string"},mimeType:{type:"string"}},anyOf:[{required:["src"]},{required:["encodedData"]}]},optionalMultiLanguageText:{description:"This could be a simple string or an object with ISO-639-1 codes as key with a string as value.",type:["object","string"],if:{type:"object"},then:{propertyNames:{description:"Has to be a 2 character ISO-639-1 code",type:"string",minLength:2,maxLength:2},patternProperties:{"^(aa|ab|ae|af|ak|am|an|ar|as|av|ay|az|ba|be|bg|bh|bi|bm|bn|bo|br|bs|ca|ce|ch|co|cr|cs|cu|cv|cy|da|de|dv|dz|ee|el|en|eo|es|et|eu|fa|ff|fi|fj|fo|fr|fy|ga|gd|gl|gn|gu|gv|ha|he|hi|ho|hr|ht|hu|hy|hz|ia|id|ie|ig|ii|ik|io|is|it|iu|ja|jv|ka|kg|ki|kj|kk|kl|km|kn|ko|kr|ks|ku|kv|kw|ky|la|lb|lg|li|ln|lo|lt|lu|lv|mg|mh|mi|mk|ml|mn|mr|ms|mt|my|na|nb|nd|ne|ng|nl|nn|no|nr|nv|ny|oc|oj|om|or|os|pa|pi|pl|ps|pt|qu|rm|rn|ro|ru|rw|sa|sc|sd|se|sg|si|sk|sl|sm|sn|so|sq|sr|ss|st|su|sv|sw|ta|te|tg|th|ti|tk|tl|tn|to|tr|ts|tt|tw|ty|ug|uk|ur|uz|ve|vi|vo|wa|wo|xh|yi|yo|za|zh|zu)$":{type:"string"}},additionalProperties:!1}}},Lm={$id:ys,$schema:$s,type:gs,required:_s,properties:vs,definitions:bs},zm=Object.freeze(Object.defineProperty({__proto__:null,$id:ys,$schema:$s,default:Lm,definitions:bs,properties:vs,required:_s,type:gs},Symbol.toStringTag,{value:"Module"}));window.ajv=new is({allErrors:!0});pm(window.ajv);ym(window.ajv);window.Ajv2019=is;window.FormsConfigSchema=zm;window.DOMPurify=Dm;
